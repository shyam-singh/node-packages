"use strict";

var _interopRequireWildcard = require("@babel/runtime-corejs3/helpers/interopRequireWildcard");
var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");
var _Symbol$toPrimitive = require("@babel/runtime-corejs3/core-js-stable/symbol/to-primitive");
var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");
var _Object$defineProperties = require("@babel/runtime-corejs3/core-js-stable/object/define-properties");
var _Object$getOwnPropertyDescriptors = require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors");
var _forEachInstanceProperty2 = require("@babel/runtime-corejs3/core-js-stable/instance/for-each");
var _Object$getOwnPropertyDescriptor = require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor");
var _filterInstanceProperty = require("@babel/runtime-corejs3/core-js-stable/instance/filter");
var _Object$getOwnPropertySymbols = require("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols");
var _Object$keys = require("@babel/runtime-corejs3/core-js-stable/object/keys");
require("core-js/modules/es.array.iterator");
require("core-js/modules/es.promise");
require("core-js/modules/es.string.replace");
_Object$defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Connection = void 0;
var _entries = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/object/entries"));
var _forEach = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/for-each"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/objectWithoutProperties"));
var _map = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/map"));
var _isArray = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/array/is-array"));
var _indexOf = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/index-of"));
var _stringify = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/json/stringify"));
var _parseInt2 = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/parse-int"));
var _promise = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/promise"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/defineProperty"));
var _slice = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/slice"));
var _events = require("events");
var _jsforce = _interopRequireDefault(require("./jsforce"));
var _transport = _interopRequireWildcard(require("./transport"));
var _logger = require("./util/logger");
var _oauth = _interopRequireDefault(require("./oauth2"));
var _cache = _interopRequireDefault(require("./cache"));
var _httpApi = _interopRequireDefault(require("./http-api"));
var _sessionRefreshDelegate = _interopRequireDefault(require("./session-refresh-delegate"));
var _query = _interopRequireDefault(require("./query"));
var _sobject = _interopRequireDefault(require("./sobject"));
var _quickAction = _interopRequireDefault(require("./quick-action"));
var _process = _interopRequireDefault(require("./process"));
var _formatter = require("./util/formatter");
var _formData = _interopRequireDefault(require("form-data"));
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[_Symbol$toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { var _context7; _forEachInstanceProperty2(_context7 = ownKeys(Object(source), true)).call(_context7, function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { var _context8; _forEachInstanceProperty2(_context8 = ownKeys(Object(source))).call(_context8, function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       */
/**
 * type definitions
 */

/**
 *
 */
const defaultConnectionConfig = {
  loginUrl: 'https://login.salesforce.com',
  instanceUrl: '',
  version: '50.0',
  logLevel: 'NONE',
  maxRequest: 10
};

/**
 *
 */
function esc(str) {
  return String(str || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
}

/**
 *
 */
function parseSignedRequest(sr) {
  if (typeof sr === 'string') {
    if (sr[0] === '{') {
      // might be JSON
      return JSON.parse(sr);
    } // might be original base64-encoded signed request
    const msg = sr.split('.').pop(); // retrieve latter part
    if (!msg) {
      throw new Error('Invalid signed request');
    }
    const json = Buffer.from(msg, 'base64').toString('utf-8');
    return JSON.parse(json);
  }
  return sr;
}

/** @private **/
function parseIdUrl(url) {
  var _context;
  const [organizationId, id] = (0, _slice.default)(_context = url.split('/')).call(_context, -2);
  return {
    id,
    organizationId,
    url
  };
}

/**
 * Session Refresh delegate function for OAuth2 authz code flow
 * @private
 */
async function oauthRefreshFn(conn, callback) {
  try {
    if (!conn.refreshToken) {
      throw new Error('No refresh token found in the connection');
    }
    const res = await conn.oauth2.refreshToken(conn.refreshToken);
    const userInfo = parseIdUrl(res.id);
    conn._establish({
      instanceUrl: res.instance_url,
      accessToken: res.access_token,
      userInfo
    });
    callback(undefined, res.access_token, res);
  } catch (err) {
    if (err instanceof Error) {
      callback(err);
    } else {
      throw err;
    }
  }
}

/**
 * Session Refresh delegate function for username/password login
 * @private
 */
function createUsernamePasswordRefreshFn(username, password) {
  return async (conn, callback) => {
    try {
      await conn.login(username, password);
      if (!conn.accessToken) {
        throw new Error('Access token not found after login');
      }
      callback(null, conn.accessToken);
    } catch (err) {
      if (err instanceof Error) {
        callback(err);
      } else {
        throw err;
      }
    }
  };
}

/**
 * @private
 */
function toSaveResult(err) {
  return {
    success: false,
    errors: [err]
  };
}

/**
 *
 */
function raiseNoModuleError(name) {
  throw new Error(`API module '${name}' is not loaded, load 'jsforce/api/${name}' explicitly`);
}

/*
 * Constant of maximum records num in DML operation (update/delete)
 */
const MAX_DML_COUNT = 200;

/**
 *
 */
class Connection extends _events.EventEmitter {
  // describe: (name: string) => Promise<DescribeSObjectResult>;

  // describeGlobal: () => Promise<DescribeGlobalResult>;

  // API libs are not instantiated here so that core module to remain without dependencies to them
  // It is responsible for developers to import api libs explicitly if they are using 'jsforce/core' instead of 'jsforce'.
  get analytics() {
    return raiseNoModuleError('analytics');
  }
  get apex() {
    return raiseNoModuleError('apex');
  }
  get bulk() {
    return raiseNoModuleError('bulk');
  }
  get bulk2() {
    return raiseNoModuleError('bulk2');
  }
  get chatter() {
    return raiseNoModuleError('chatter');
  }
  get metadata() {
    return raiseNoModuleError('metadata');
  }
  get soap() {
    return raiseNoModuleError('soap');
  }
  get streaming() {
    return raiseNoModuleError('streaming');
  }
  get tooling() {
    return raiseNoModuleError('tooling');
  }

  /**
   *
   */
  constructor(config = {}) {
    super();
    (0, _defineProperty2.default)(this, "version", void 0);
    (0, _defineProperty2.default)(this, "loginUrl", void 0);
    (0, _defineProperty2.default)(this, "instanceUrl", void 0);
    (0, _defineProperty2.default)(this, "accessToken", void 0);
    (0, _defineProperty2.default)(this, "refreshToken", void 0);
    (0, _defineProperty2.default)(this, "userInfo", void 0);
    (0, _defineProperty2.default)(this, "limitInfo", {});
    (0, _defineProperty2.default)(this, "oauth2", void 0);
    (0, _defineProperty2.default)(this, "sobjects", {});
    (0, _defineProperty2.default)(this, "cache", void 0);
    (0, _defineProperty2.default)(this, "_callOptions", void 0);
    (0, _defineProperty2.default)(this, "_maxRequest", void 0);
    (0, _defineProperty2.default)(this, "_logger", void 0);
    (0, _defineProperty2.default)(this, "_logLevel", void 0);
    (0, _defineProperty2.default)(this, "_transport", void 0);
    (0, _defineProperty2.default)(this, "_sessionType", void 0);
    (0, _defineProperty2.default)(this, "_refreshDelegate", void 0);
    (0, _defineProperty2.default)(this, "describe$", void 0);
    (0, _defineProperty2.default)(this, "describe$$", void 0);
    (0, _defineProperty2.default)(this, "describeSObject", void 0);
    (0, _defineProperty2.default)(this, "describeSObject$", void 0);
    (0, _defineProperty2.default)(this, "describeSObject$$", void 0);
    (0, _defineProperty2.default)(this, "describeGlobal$", void 0);
    (0, _defineProperty2.default)(this, "describeGlobal$$", void 0);
    (0, _defineProperty2.default)(this, "insert", this.create);
    (0, _defineProperty2.default)(this, "delete", this.destroy);
    (0, _defineProperty2.default)(this, "del", this.destroy);
    (0, _defineProperty2.default)(this, "process", new _process.default(this));
    const {
      loginUrl,
      instanceUrl,
      version,
      oauth2,
      maxRequest,
      logLevel,
      proxyUrl,
      httpProxy
    } = config;
    this.loginUrl = loginUrl || defaultConnectionConfig.loginUrl;
    this.instanceUrl = instanceUrl || defaultConnectionConfig.instanceUrl;
    this.version = version || defaultConnectionConfig.version;
    this.oauth2 = oauth2 instanceof _oauth.default ? oauth2 : new _oauth.default(_objectSpread({
      loginUrl: this.loginUrl,
      proxyUrl,
      httpProxy
    }, oauth2));
    let refreshFn = config.refreshFn;
    if (!refreshFn && this.oauth2.clientId) {
      refreshFn = oauthRefreshFn;
    }
    if (refreshFn) {
      this._refreshDelegate = new _sessionRefreshDelegate.default(this, refreshFn);
    }
    this._maxRequest = maxRequest || defaultConnectionConfig.maxRequest;
    this._logger = logLevel ? Connection._logger.createInstance(logLevel) : Connection._logger;
    this._logLevel = logLevel;
    this._transport = proxyUrl ? new _transport.XdProxyTransport(proxyUrl) : httpProxy ? new _transport.HttpProxyTransport(httpProxy) : new _transport.default();
    this._callOptions = config.callOptions;
    this.cache = new _cache.default();
    const describeCacheKey = type => type ? `describe.${type}` : 'describe';
    const describe = Connection.prototype.describe;
    this.describe = this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'NOCACHE'
    });
    this.describe$ = this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'HIT'
    });
    this.describe$$ = this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'IMMEDIATE'
    });
    this.describeSObject = this.describe;
    this.describeSObject$ = this.describe$;
    this.describeSObject$$ = this.describe$$;
    const describeGlobal = Connection.prototype.describeGlobal;
    this.describeGlobal = this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'NOCACHE'
    });
    this.describeGlobal$ = this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'HIT'
    });
    this.describeGlobal$$ = this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'IMMEDIATE'
    });
    const {
      accessToken,
      refreshToken,
      sessionId,
      serverUrl,
      signedRequest
    } = config;
    this._establish({
      accessToken,
      refreshToken,
      instanceUrl,
      sessionId,
      serverUrl,
      signedRequest
    });
    _jsforce.default.emit('connection:new', this);
  }

  /* @private */
  _establish(options) {
    var _context2;
    const {
      accessToken,
      refreshToken,
      instanceUrl,
      sessionId,
      serverUrl,
      signedRequest,
      userInfo
    } = options;
    this.instanceUrl = serverUrl ? (0, _slice.default)(_context2 = serverUrl.split('/')).call(_context2, 0, 3).join('/') : instanceUrl || this.instanceUrl;
    this.accessToken = sessionId || accessToken || this.accessToken;
    this.refreshToken = refreshToken || this.refreshToken;
    if (this.refreshToken && !this._refreshDelegate) {
      throw new Error('Refresh token is specified without oauth2 client information or refresh function');
    }
    const signedRequestObject = signedRequest && parseSignedRequest(signedRequest);
    if (signedRequestObject) {
      this.accessToken = signedRequestObject.client.oauthToken;
      if (_transport.CanvasTransport.supported) {
        this._transport = new _transport.CanvasTransport(signedRequestObject);
      }
    }
    this.userInfo = userInfo || this.userInfo;
    this._sessionType = sessionId ? 'soap' : 'oauth2';
    this._resetInstance();
  }

  /* @priveate */
  _clearSession() {
    this.accessToken = null;
    this.refreshToken = null;
    this.instanceUrl = defaultConnectionConfig.instanceUrl;
    this.userInfo = null;
    this._sessionType = null;
  }

  /* @priveate */
  _resetInstance() {
    this.limitInfo = {};
    this.sobjects = {};
    // TODO impl cache
    this.cache.clear();
    this.cache.get('describeGlobal').removeAllListeners('value');
    this.cache.get('describeGlobal').on('value', ({
      result
    }) => {
      if (result) {
        for (const so of result.sobjects) {
          this.sobject(so.name);
        }
      }
    });
    /*
    if (this.tooling) {
      this.tooling._resetInstance();
    }
    */
  }

  /**
   * Authorize the connection using OAuth2 flow.
   * Typically, just pass the code returned from authorization server in the first argument to complete authorization.
   * If you want to authorize with grant types other than `authorization_code`, you can also pass params object with the grant type.
   */
  async authorize(codeOrParams, params = {}) {
    const res = await this.oauth2.requestToken(codeOrParams, params);
    const userInfo = parseIdUrl(res.id);
    this._establish({
      instanceUrl: res.instance_url,
      accessToken: res.access_token,
      refreshToken: res.refresh_token,
      userInfo
    });
    this._logger.debug(`<login> completed. user id = ${userInfo.id}, org id = ${userInfo.organizationId}`);
    return userInfo;
  }

  /**
   *
   */
  async login(username, password) {
    this._refreshDelegate = new _sessionRefreshDelegate.default(this, createUsernamePasswordRefreshFn(username, password));
    if (this.oauth2 && this.oauth2.clientId && this.oauth2.clientSecret) {
      return this.loginByOAuth2(username, password);
    }
    return this.loginBySoap(username, password);
  }

  /**
   * Login by OAuth2 username & password flow
   */
  async loginByOAuth2(username, password) {
    const res = await this.oauth2.authenticate(username, password);
    const userInfo = parseIdUrl(res.id);
    this._establish({
      instanceUrl: res.instance_url,
      accessToken: res.access_token,
      userInfo
    });
    this._logger.info(`<login> completed. user id = ${userInfo.id}, org id = ${userInfo.organizationId}`);
    return userInfo;
  }

  /**
   *
   */
  async loginBySoap(username, password) {
    var _context3;
    if (!username || !password) {
      return _promise.default.reject(new Error('no username password given'));
    }
    const body = ['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">', '<se:Header/>', '<se:Body>', '<login xmlns="urn:partner.soap.sforce.com">', `<username>${esc(username)}</username>`, `<password>${esc(password)}</password>`, '</login>', '</se:Body>', '</se:Envelope>'].join('');
    const soapLoginEndpoint = [this.loginUrl, 'services/Soap/u', this.version].join('/');
    const response = await this._transport.httpRequest({
      method: 'POST',
      url: soapLoginEndpoint,
      body,
      headers: {
        'Content-Type': 'text/xml',
        SOAPAction: '""'
      }
    });
    let m;
    if (response.statusCode >= 400) {
      m = response.body.match(/<faultstring>([^<]+)<\/faultstring>/);
      const faultstring = m && m[1];
      throw new Error(faultstring || response.body);
    }
    this._logger.debug(`SOAP response = ${response.body}`);
    m = response.body.match(/<serverUrl>([^<]+)<\/serverUrl>/);
    const serverUrl = m && m[1];
    m = response.body.match(/<sessionId>([^<]+)<\/sessionId>/);
    const sessionId = m && m[1];
    m = response.body.match(/<userId>([^<]+)<\/userId>/);
    const userId = m && m[1];
    m = response.body.match(/<organizationId>([^<]+)<\/organizationId>/);
    const organizationId = m && m[1];
    if (!serverUrl || !sessionId || !userId || !organizationId) {
      throw new Error('could not extract session information from login response');
    }
    const idUrl = [this.loginUrl, 'id', organizationId, userId].join('/');
    const userInfo = {
      id: userId,
      organizationId,
      url: idUrl
    };
    this._establish({
      serverUrl: (0, _slice.default)(_context3 = serverUrl.split('/')).call(_context3, 0, 3).join('/'),
      sessionId,
      userInfo
    });
    this._logger.info(`<login> completed. user id = ${userId}, org id = ${organizationId}`);
    return userInfo;
  }

  /**
   * Logout the current session
   */
  async logout(revoke) {
    this._refreshDelegate = undefined;
    if (this._sessionType === 'oauth2') {
      return this.logoutByOAuth2(revoke);
    }
    return this.logoutBySoap(revoke);
  }

  /**
   * Logout the current session by revoking access token via OAuth2 session revoke
   */
  async logoutByOAuth2(revoke) {
    const token = revoke ? this.refreshToken : this.accessToken;
    if (token) {
      await this.oauth2.revokeToken(token);
    }
    // Destroy the session bound to this connection
    this._clearSession();
    this._resetInstance();
  }

  /**
   * Logout the session by using SOAP web service API
   */
  async logoutBySoap(revoke) {
    const body = ['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">', '<se:Header>', '<SessionHeader xmlns="urn:partner.soap.sforce.com">', `<sessionId>${esc(revoke ? this.refreshToken : this.accessToken)}</sessionId>`, '</SessionHeader>', '</se:Header>', '<se:Body>', '<logout xmlns="urn:partner.soap.sforce.com"/>', '</se:Body>', '</se:Envelope>'].join('');
    const response = await this._transport.httpRequest({
      method: 'POST',
      url: [this.instanceUrl, 'services/Soap/u', this.version].join('/'),
      body,
      headers: {
        'Content-Type': 'text/xml',
        SOAPAction: '""'
      }
    });
    this._logger.debug(`SOAP statusCode = ${response.statusCode}, response = ${response.body}`);
    if (response.statusCode >= 400) {
      const m = response.body.match(/<faultstring>([^<]+)<\/faultstring>/);
      const faultstring = m && m[1];
      throw new Error(faultstring || response.body);
    }
    // Destroy the session bound to this connection
    this._clearSession();
    this._resetInstance();
  }

  /**
   * Send REST API request with given HTTP request info, with connected session information.
   *
   * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
   * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
   * , or relative path from version root ('/sobjects/Account/describe').
   */
  request(request, options = {}) {
    // if request is simple string, regard it as url in GET method
    let request_ = typeof request === 'string' ? {
      method: 'GET',
      url: request
    } : request;
    // if url is given in relative path, prepend base url or instance url before.
    request_ = _objectSpread(_objectSpread({}, request_), {}, {
      url: this._normalizeUrl(request_.url)
    });
    const httpApi = new _httpApi.default(this, options);
    // log api usage and its quota
    httpApi.on('response', response => {
      if (response.headers && response.headers['sforce-limit-info']) {
        const apiUsage = response.headers['sforce-limit-info'].match(/api-usage=(\d+)\/(\d+)/);
        if (apiUsage) {
          this.limitInfo = {
            apiUsage: {
              used: (0, _parseInt2.default)(apiUsage[1], 10),
              limit: (0, _parseInt2.default)(apiUsage[2], 10)
            }
          };
        }
      }
    });
    return httpApi.request(request_);
  }

  /**
   * Send HTTP GET request
   *
   * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
   * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
   * , or relative path from version root ('/sobjects/Account/describe').
   */
  requestGet(url, options) {
    const request = {
      method: 'GET',
      url
    };
    return this.request(request, options);
  }

  /**
   * Send HTTP POST request with JSON body, with connected session information
   *
   * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
   * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
   * , or relative path from version root ('/sobjects/Account/describe').
   */
  requestPost(url, body, options) {
    const request = {
      method: 'POST',
      url,
      body: (0, _stringify.default)(body),
      headers: {
        'content-type': 'application/json'
      }
    };
    return this.request(request, options);
  }

  /**
   * Send HTTP PUT request with JSON body, with connected session information
   *
   * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
   * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
   * , or relative path from version root ('/sobjects/Account/describe').
   */
  requestPut(url, body, options) {
    const request = {
      method: 'PUT',
      url,
      body: (0, _stringify.default)(body),
      headers: {
        'content-type': 'application/json'
      }
    };
    return this.request(request, options);
  }

  /**
   * Send HTTP PATCH request with JSON body
   *
   * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
   * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
   * , or relative path from version root ('/sobjects/Account/describe').
   */
  requestPatch(url, body, options) {
    const request = {
      method: 'PATCH',
      url,
      body: (0, _stringify.default)(body),
      headers: {
        'content-type': 'application/json'
      }
    };
    return this.request(request, options);
  }

  /**
   * Send HTTP DELETE request
   *
   * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
   * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
   * , or relative path from version root ('/sobjects/Account/describe').
   */
  requestDelete(url, options) {
    const request = {
      method: 'DELETE',
      url
    };
    return this.request(request, options);
  }

  /** @private **/
  _baseUrl() {
    return [this.instanceUrl, 'services/data', `v${this.version}`].join('/');
  }

  /**
   * Convert path to absolute url
   * @private
   */
  _normalizeUrl(url) {
    if (url[0] === '/') {
      if ((0, _indexOf.default)(url).call(url, this.instanceUrl + '/services/') === 0) {
        return url;
      }
      if ((0, _indexOf.default)(url).call(url, '/services/') === 0) {
        return this.instanceUrl + url;
      }
      return this._baseUrl() + url;
    }
    return url;
  }

  /**
   *
   */
  query(soql, options) {
    return new _query.default(this, soql, options);
  }

  /**
   * Execute search by SOSL
   *
   * @param {String} sosl - SOSL string
   * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function
   * @returns {Promise.<Array.<RecordResult>>}
   */
  search(sosl) {
    var url = this._baseUrl() + '/search?q=' + encodeURIComponent(sosl);
    return this.request(url);
  }

  /**
   *
   */
  queryMore(locator, options) {
    return new _query.default(this, {
      locator
    }, options);
  }

  /* */
  _ensureVersion(majorVersion) {
    const versions = this.version.split('.');
    return (0, _parseInt2.default)(versions[0], 10) >= majorVersion;
  }

  /* */
  _supports(feature) {
    switch (feature) {
      case 'sobject-collection':
        // sobject collection is available only in API ver 42.0+
        return this._ensureVersion(42);
      default:
        return false;
    }
  }

  /**
   * Retrieve specified records
   */

  async retrieve(type, ids, options = {}) {
    return (0, _isArray.default)(ids) ?
    // check the version whether SObject collection API is supported (42.0)
    this._ensureVersion(42) ? this._retrieveMany(type, ids, options) : this._retrieveParallel(type, ids, options) : this._retrieveSingle(type, ids, options);
  }

  /** @private */
  async _retrieveSingle(type, id, options) {
    if (!id) {
      throw new Error('Invalid record ID. Specify valid record ID value');
    }
    let url = [this._baseUrl(), 'sobjects', type, id].join('/');
    const {
      fields,
      headers
    } = options;
    if (fields) {
      url += `?fields=${fields.join(',')}`;
    }
    return this.request({
      method: 'GET',
      url,
      headers
    });
  }

  /** @private */
  async _retrieveParallel(type, ids, options) {
    if (ids.length > this._maxRequest) {
      throw new Error('Exceeded max limit of concurrent call');
    }
    return _promise.default.all((0, _map.default)(ids).call(ids, id => this._retrieveSingle(type, id, options).catch(err => {
      if (options.allOrNone || err.errorCode !== 'NOT_FOUND') {
        throw err;
      }
      return null;
    })));
  }

  /** @private */
  async _retrieveMany(type, ids, options) {
    var _context4;
    if (ids.length === 0) {
      return [];
    }
    const url = [this._baseUrl(), 'composite', 'sobjects', type].join('/');
    const fields = options.fields || (0, _map.default)(_context4 = (await this.describe$(type)).fields).call(_context4, field => field.name);
    return this.request({
      method: 'POST',
      url,
      body: (0, _stringify.default)({
        ids,
        fields
      }),
      headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
        'content-type': 'application/json'
      })
    });
  }

  /**
   * Create records
   */

  /**
   * @param type
   * @param records
   * @param options
   */
  async create(type, records, options = {}) {
    const ret = (0, _isArray.default)(records) ?
    // check the version whether SObject collection API is supported (42.0)
    this._ensureVersion(42) ? await this._createMany(type, records, options) : await this._createParallel(type, records, options) : await this._createSingle(type, records, options);
    return ret;
  }

  /** @private */
  async _createSingle(type, record, options) {
    const {
        Id,
        type: rtype,
        attributes
      } = record,
      rec = (0, _objectWithoutProperties2.default)(record, ["Id", "type", "attributes"]);
    const sobjectType = type || attributes && attributes.type || rtype;
    if (!sobjectType) {
      throw new Error('No SObject Type defined in record');
    }
    const url = [this._baseUrl(), 'sobjects', sobjectType].join('/');
    let contentType, body;
    if (options && options.multipartFileFields) {
      var _context5;
      // Send the record as a multipart/form-data request. Useful for fields containing large binary blobs.
      const form = new _formData.default();
      // Extract the fields requested to be sent separately from the JSON
      (0, _forEach.default)(_context5 = (0, _entries.default)(options.multipartFileFields)).call(_context5, ([fieldName, fileDetails]) => {
        form.append(fieldName, Buffer.from(rec[fieldName], 'base64'), fileDetails);
        delete rec[fieldName];
      });
      // Serialize the remaining fields as JSON
      form.append(type, (0, _stringify.default)(rec), {
        contentType: 'application/json'
      });
      contentType = form.getHeaders()['content-type']; // This is necessary to ensure the 'boundary' is present
      body = form;
    } else {
      // Default behavior: send the request as JSON
      contentType = 'application/json';
      body = (0, _stringify.default)(rec);
    }
    return this.request({
      method: 'POST',
      url,
      body: body,
      headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
        'content-type': contentType
      })
    });
  }

  /** @private */
  async _createParallel(type, records, options) {
    if (records.length > this._maxRequest) {
      throw new Error('Exceeded max limit of concurrent call');
    }
    return _promise.default.all((0, _map.default)(records).call(records, record => this._createSingle(type, record, options).catch(err => {
      // be aware that allOrNone in parallel mode will not revert the other successful requests
      // it only raises error when met at least one failed request.
      if (options.allOrNone || !err.errorCode) {
        throw err;
      }
      return toSaveResult(err);
    })));
  }

  /** @private */
  async _createMany(type, records, options) {
    if (records.length === 0) {
      return _promise.default.resolve([]);
    }
    if (records.length > MAX_DML_COUNT && options.allowRecursive) {
      return [...(await this._createMany(type, (0, _slice.default)(records).call(records, 0, MAX_DML_COUNT), options)), ...(await this._createMany(type, (0, _slice.default)(records).call(records, MAX_DML_COUNT), options))];
    }
    const _records = (0, _map.default)(records).call(records, record => {
      const {
          Id,
          type: rtype,
          attributes
        } = record,
        rec = (0, _objectWithoutProperties2.default)(record, ["Id", "type", "attributes"]);
      const sobjectType = type || attributes && attributes.type || rtype;
      if (!sobjectType) {
        throw new Error('No SObject Type defined in record');
      }
      return _objectSpread({
        attributes: {
          type: sobjectType
        }
      }, rec);
    });
    const url = [this._baseUrl(), 'composite', 'sobjects'].join('/');
    return this.request({
      method: 'POST',
      url,
      body: (0, _stringify.default)({
        allOrNone: options.allOrNone || false,
        records: _records
      }),
      headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
        'content-type': 'application/json'
      })
    });
  }

  /**
   * Synonym of Connection#create()
   */

  /**
   * Update records
   */

  /**
   * @param type
   * @param records
   * @param options
   */
  update(type, records, options = {}) {
    return (0, _isArray.default)(records) ?
    // check the version whether SObject collection API is supported (42.0)
    this._ensureVersion(42) ? this._updateMany(type, records, options) : this._updateParallel(type, records, options) : this._updateSingle(type, records, options);
  }

  /** @private */
  async _updateSingle(type, record, options) {
    const {
        Id: id,
        type: rtype,
        attributes
      } = record,
      rec = (0, _objectWithoutProperties2.default)(record, ["Id", "type", "attributes"]);
    if (!id) {
      throw new Error('Record id is not found in record.');
    }
    const sobjectType = type || attributes && attributes.type || rtype;
    if (!sobjectType) {
      throw new Error('No SObject Type defined in record');
    }
    const url = [this._baseUrl(), 'sobjects', sobjectType, id].join('/');
    return this.request({
      method: 'PATCH',
      url,
      body: (0, _stringify.default)(rec),
      headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
        'content-type': 'application/json'
      })
    }, {
      noContentResponse: {
        id,
        success: true,
        errors: []
      }
    });
  }

  /** @private */
  async _updateParallel(type, records, options) {
    if (records.length > this._maxRequest) {
      throw new Error('Exceeded max limit of concurrent call');
    }
    return _promise.default.all((0, _map.default)(records).call(records, record => this._updateSingle(type, record, options).catch(err => {
      // be aware that allOrNone in parallel mode will not revert the other successful requests
      // it only raises error when met at least one failed request.
      if (options.allOrNone || !err.errorCode) {
        throw err;
      }
      return toSaveResult(err);
    })));
  }

  /** @private */
  async _updateMany(type, records, options) {
    if (records.length === 0) {
      return [];
    }
    if (records.length > MAX_DML_COUNT && options.allowRecursive) {
      return [...(await this._updateMany(type, (0, _slice.default)(records).call(records, 0, MAX_DML_COUNT), options)), ...(await this._updateMany(type, (0, _slice.default)(records).call(records, MAX_DML_COUNT), options))];
    }
    const _records = (0, _map.default)(records).call(records, record => {
      const {
          Id: id,
          type: rtype,
          attributes
        } = record,
        rec = (0, _objectWithoutProperties2.default)(record, ["Id", "type", "attributes"]);
      if (!id) {
        throw new Error('Record id is not found in record.');
      }
      const sobjectType = type || attributes && attributes.type || rtype;
      if (!sobjectType) {
        throw new Error('No SObject Type defined in record');
      }
      return _objectSpread({
        id,
        attributes: {
          type: sobjectType
        }
      }, rec);
    });
    const url = [this._baseUrl(), 'composite', 'sobjects'].join('/');
    return this.request({
      method: 'PATCH',
      url,
      body: (0, _stringify.default)({
        allOrNone: options.allOrNone || false,
        records: _records
      }),
      headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
        'content-type': 'application/json'
      })
    });
  }

  /**
   * Upsert records
   */

  /**
   *
   * @param type
   * @param records
   * @param extIdField
   * @param options
   */
  async upsert(type, records, extIdField, options = {}) {
    const isArray = (0, _isArray.default)(records);
    const _records = (0, _isArray.default)(records) ? records : [records];
    if (_records.length > this._maxRequest) {
      throw new Error('Exceeded max limit of concurrent call');
    }
    const results = await _promise.default.all((0, _map.default)(_records).call(_records, record => {
      var _context6;
      const {
          [extIdField]: extId,
          type: rtype,
          attributes
        } = record,
        rec = (0, _objectWithoutProperties2.default)(record, (0, _map.default)(_context6 = [extIdField, "type", "attributes"]).call(_context6, _toPropertyKey));
      const url = [this._baseUrl(), 'sobjects', type, extIdField, extId].join('/');
      return this.request({
        method: 'PATCH',
        url,
        body: (0, _stringify.default)(rec),
        headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
          'content-type': 'application/json'
        })
      }, {
        noContentResponse: {
          success: true,
          errors: []
        }
      }).catch(err => {
        // Be aware that `allOrNone` option in upsert method
        // will not revert the other successful requests.
        // It only raises error when met at least one failed request.
        if (!isArray || options.allOrNone || !err.errorCode) {
          throw err;
        }
        return toSaveResult(err);
      });
    }));
    return isArray ? results : results[0];
  }

  /**
   * Delete records
   */

  /**
   * @param type
   * @param ids
   * @param options
   */
  async destroy(type, ids, options = {}) {
    return (0, _isArray.default)(ids) ?
    // check the version whether SObject collection API is supported (42.0)
    this._ensureVersion(42) ? this._destroyMany(type, ids, options) : this._destroyParallel(type, ids, options) : this._destroySingle(type, ids, options);
  }

  /** @private */
  async _destroySingle(type, id, options) {
    const url = [this._baseUrl(), 'sobjects', type, id].join('/');
    return this.request({
      method: 'DELETE',
      url,
      headers: options.headers || {}
    }, {
      noContentResponse: {
        id,
        success: true,
        errors: []
      }
    });
  }

  /** @private */
  async _destroyParallel(type, ids, options) {
    if (ids.length > this._maxRequest) {
      throw new Error('Exceeded max limit of concurrent call');
    }
    return _promise.default.all((0, _map.default)(ids).call(ids, id => this._destroySingle(type, id, options).catch(err => {
      // Be aware that `allOrNone` option in parallel mode
      // will not revert the other successful requests.
      // It only raises error when met at least one failed request.
      if (options.allOrNone || !err.errorCode) {
        throw err;
      }
      return toSaveResult(err);
    })));
  }

  /** @private */
  async _destroyMany(type, ids, options) {
    if (ids.length === 0) {
      return [];
    }
    if (ids.length > MAX_DML_COUNT && options.allowRecursive) {
      return [...(await this._destroyMany(type, (0, _slice.default)(ids).call(ids, 0, MAX_DML_COUNT), options)), ...(await this._destroyMany(type, (0, _slice.default)(ids).call(ids, MAX_DML_COUNT), options))];
    }
    let url = [this._baseUrl(), 'composite', 'sobjects?ids='].join('/') + ids.join(',');
    if (options.allOrNone) {
      url += '&allOrNone=true';
    }
    return this.request({
      method: 'DELETE',
      url,
      headers: options.headers || {}
    });
  }

  /**
   * Synonym of Connection#destroy()
   */

  /**
   * Synonym of Connection#destroy()
   */

  /**
   * Describe SObject metadata
   */
  async describe(type) {
    const url = [this._baseUrl(), 'sobjects', type, 'describe'].join('/');
    const body = await this.request(url);
    return body;
  }

  /**
   * Describe global SObjects
   */
  async describeGlobal() {
    const url = `${this._baseUrl()}/sobjects`;
    const body = await this.request(url);
    return body;
  }

  /**
   * Get SObject instance
   */

  sobject(type) {
    const so = this.sobjects[type] || new _sobject.default(this, type);
    this.sobjects[type] = so;
    return so;
  }

  /**
   * Get identity information of current user
   */
  async identity(options = {}) {
    let url = this.userInfo && this.userInfo.url;
    if (!url) {
      const res = await this.request({
        method: 'GET',
        url: this._baseUrl(),
        headers: options.headers
      });
      url = res.identity;
    }
    url += '?format=json';
    if (this.accessToken) {
      url += `&oauth_token=${encodeURIComponent(this.accessToken)}`;
    }
    const res = await this.request({
      method: 'GET',
      url
    });
    this.userInfo = {
      id: res.user_id,
      organizationId: res.organization_id,
      url: res.id
    };
    return res;
  }

  /**
   * List recently viewed records
   */
  async recent(type, limit) {
    /* eslint-disable no-param-reassign */
    if (typeof type === 'number') {
      limit = type;
      type = undefined;
    }
    let url;
    if (type) {
      url = [this._baseUrl(), 'sobjects', type].join('/');
      const {
        recentItems
      } = await this.request(url);
      return limit ? (0, _slice.default)(recentItems).call(recentItems, 0, limit) : recentItems;
    }
    url = `${this._baseUrl()}/recent`;
    if (limit) {
      url += `?limit=${limit}`;
    }
    return this.request(url);
  }

  /**
   * Retrieve updated records
   */
  async updated(type, start, end) {
    /* eslint-disable no-param-reassign */
    let url = [this._baseUrl(), 'sobjects', type, 'updated'].join('/');
    if (typeof start === 'string') {
      start = new Date(start);
    }
    start = (0, _formatter.formatDate)(start);
    url += `?start=${encodeURIComponent(start)}`;
    if (typeof end === 'string') {
      end = new Date(end);
    }
    end = (0, _formatter.formatDate)(end);
    url += `&end=${encodeURIComponent(end)}`;
    const body = await this.request(url);
    return body;
  }

  /**
   * Retrieve deleted records
   */
  async deleted(type, start, end) {
    /* eslint-disable no-param-reassign */
    let url = [this._baseUrl(), 'sobjects', type, 'deleted'].join('/');
    if (typeof start === 'string') {
      start = new Date(start);
    }
    start = (0, _formatter.formatDate)(start);
    url += `?start=${encodeURIComponent(start)}`;
    if (typeof end === 'string') {
      end = new Date(end);
    }
    end = (0, _formatter.formatDate)(end);
    url += `&end=${encodeURIComponent(end)}`;
    const body = await this.request(url);
    return body;
  }

  /**
   * Returns a list of all tabs
   */
  async tabs() {
    const url = [this._baseUrl(), 'tabs'].join('/');
    const body = await this.request(url);
    return body;
  }

  /**
   * Returns current system limit in the organization
   */
  async limits() {
    const url = [this._baseUrl(), 'limits'].join('/');
    const body = await this.request(url);
    return body;
  }

  /**
   * Returns a theme info
   */
  async theme() {
    const url = [this._baseUrl(), 'theme'].join('/');
    const body = await this.request(url);
    return body;
  }

  /**
   * Returns all registered global quick actions
   */
  async quickActions() {
    const body = await this.request('/quickActions');
    return body;
  }

  /**
   * Get reference for specified global quick action
   */
  quickAction(actionName) {
    return new _quickAction.default(this, `/quickActions/${actionName}`);
  }

  /**
   * Module which manages process rules and approval processes
   */
}
exports.Connection = Connection;
(0, _defineProperty2.default)(Connection, "_logger", (0, _logger.getLogger)('connection'));
var _default = Connection;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXZlbnRzIiwicmVxdWlyZSIsIl9qc2ZvcmNlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl90cmFuc3BvcnQiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9sb2dnZXIiLCJfb2F1dGgiLCJfY2FjaGUiLCJfaHR0cEFwaSIsIl9zZXNzaW9uUmVmcmVzaERlbGVnYXRlIiwiX3F1ZXJ5IiwiX3NvYmplY3QiLCJfcXVpY2tBY3Rpb24iLCJfcHJvY2VzcyIsIl9mb3JtYXR0ZXIiLCJfZm9ybURhdGEiLCJfdG9Qcm9wZXJ0eUtleSIsImFyZyIsImtleSIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJfU3ltYm9sJHRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJfT2JqZWN0JGtleXMiLCJfT2JqZWN0JGdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eSIsInN5bSIsIl9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiX2NvbnRleHQ3IiwiX2ZvckVhY2hJbnN0YW5jZVByb3BlcnR5MiIsIk9iamVjdCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJkZWZhdWx0IiwiX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiX09iamVjdCRkZWZpbmVQcm9wZXJ0aWVzIiwiX2NvbnRleHQ4IiwiX09iamVjdCRkZWZpbmVQcm9wZXJ0eSIsImRlZmF1bHRDb25uZWN0aW9uQ29uZmlnIiwibG9naW5VcmwiLCJpbnN0YW5jZVVybCIsInZlcnNpb24iLCJsb2dMZXZlbCIsIm1heFJlcXVlc3QiLCJlc2MiLCJzdHIiLCJyZXBsYWNlIiwicGFyc2VTaWduZWRSZXF1ZXN0Iiwic3IiLCJKU09OIiwicGFyc2UiLCJtc2ciLCJzcGxpdCIsInBvcCIsIkVycm9yIiwianNvbiIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInBhcnNlSWRVcmwiLCJ1cmwiLCJfY29udGV4dCIsIm9yZ2FuaXphdGlvbklkIiwiaWQiLCJfc2xpY2UiLCJvYXV0aFJlZnJlc2hGbiIsImNvbm4iLCJjYWxsYmFjayIsInJlZnJlc2hUb2tlbiIsIm9hdXRoMiIsInVzZXJJbmZvIiwiX2VzdGFibGlzaCIsImluc3RhbmNlX3VybCIsImFjY2Vzc1Rva2VuIiwiYWNjZXNzX3Rva2VuIiwiZXJyIiwiY3JlYXRlVXNlcm5hbWVQYXNzd29yZFJlZnJlc2hGbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJsb2dpbiIsInRvU2F2ZVJlc3VsdCIsInN1Y2Nlc3MiLCJlcnJvcnMiLCJyYWlzZU5vTW9kdWxlRXJyb3IiLCJuYW1lIiwiTUFYX0RNTF9DT1VOVCIsIkNvbm5lY3Rpb24iLCJFdmVudEVtaXR0ZXIiLCJhbmFseXRpY3MiLCJhcGV4IiwiYnVsayIsImJ1bGsyIiwiY2hhdHRlciIsIm1ldGFkYXRhIiwic29hcCIsInN0cmVhbWluZyIsInRvb2xpbmciLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNyZWF0ZSIsImRlc3Ryb3kiLCJQcm9jZXNzIiwicHJveHlVcmwiLCJodHRwUHJveHkiLCJPQXV0aDIiLCJyZWZyZXNoRm4iLCJjbGllbnRJZCIsIl9yZWZyZXNoRGVsZWdhdGUiLCJTZXNzaW9uUmVmcmVzaERlbGVnYXRlIiwiX21heFJlcXVlc3QiLCJjcmVhdGVJbnN0YW5jZSIsIl9sb2dMZXZlbCIsIlhkUHJveHlUcmFuc3BvcnQiLCJIdHRwUHJveHlUcmFuc3BvcnQiLCJUcmFuc3BvcnQiLCJfY2FsbE9wdGlvbnMiLCJjYWxsT3B0aW9ucyIsImNhY2hlIiwiQ2FjaGUiLCJkZXNjcmliZUNhY2hlS2V5IiwidHlwZSIsImRlc2NyaWJlIiwicHJvdG90eXBlIiwiY3JlYXRlQ2FjaGVkRnVuY3Rpb24iLCJzdHJhdGVneSIsImRlc2NyaWJlJCIsImRlc2NyaWJlJCQiLCJkZXNjcmliZVNPYmplY3QiLCJkZXNjcmliZVNPYmplY3QkIiwiZGVzY3JpYmVTT2JqZWN0JCQiLCJkZXNjcmliZUdsb2JhbCIsImRlc2NyaWJlR2xvYmFsJCIsImRlc2NyaWJlR2xvYmFsJCQiLCJzZXNzaW9uSWQiLCJzZXJ2ZXJVcmwiLCJzaWduZWRSZXF1ZXN0IiwianNmb3JjZSIsImVtaXQiLCJvcHRpb25zIiwiX2NvbnRleHQyIiwiam9pbiIsInNpZ25lZFJlcXVlc3RPYmplY3QiLCJjbGllbnQiLCJvYXV0aFRva2VuIiwiQ2FudmFzVHJhbnNwb3J0Iiwic3VwcG9ydGVkIiwiX3Nlc3Npb25UeXBlIiwiX3Jlc2V0SW5zdGFuY2UiLCJfY2xlYXJTZXNzaW9uIiwibGltaXRJbmZvIiwic29iamVjdHMiLCJjbGVhciIsImdldCIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9uIiwicmVzdWx0Iiwic28iLCJzb2JqZWN0IiwiYXV0aG9yaXplIiwiY29kZU9yUGFyYW1zIiwicGFyYW1zIiwicmVxdWVzdFRva2VuIiwicmVmcmVzaF90b2tlbiIsImRlYnVnIiwiY2xpZW50U2VjcmV0IiwibG9naW5CeU9BdXRoMiIsImxvZ2luQnlTb2FwIiwiYXV0aGVudGljYXRlIiwiaW5mbyIsIl9jb250ZXh0MyIsIl9wcm9taXNlIiwicmVqZWN0IiwiYm9keSIsInNvYXBMb2dpbkVuZHBvaW50IiwicmVzcG9uc2UiLCJodHRwUmVxdWVzdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJTT0FQQWN0aW9uIiwibSIsInN0YXR1c0NvZGUiLCJtYXRjaCIsImZhdWx0c3RyaW5nIiwidXNlcklkIiwiaWRVcmwiLCJsb2dvdXQiLCJyZXZva2UiLCJsb2dvdXRCeU9BdXRoMiIsImxvZ291dEJ5U29hcCIsInRva2VuIiwicmV2b2tlVG9rZW4iLCJyZXF1ZXN0IiwicmVxdWVzdF8iLCJfbm9ybWFsaXplVXJsIiwiaHR0cEFwaSIsIkh0dHBBcGkiLCJhcGlVc2FnZSIsInVzZWQiLCJfcGFyc2VJbnQyIiwibGltaXQiLCJyZXF1ZXN0R2V0IiwicmVxdWVzdFBvc3QiLCJfc3RyaW5naWZ5IiwicmVxdWVzdFB1dCIsInJlcXVlc3RQYXRjaCIsInJlcXVlc3REZWxldGUiLCJfYmFzZVVybCIsIl9pbmRleE9mIiwicXVlcnkiLCJzb3FsIiwiUXVlcnkiLCJzZWFyY2giLCJzb3NsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicXVlcnlNb3JlIiwibG9jYXRvciIsIl9lbnN1cmVWZXJzaW9uIiwibWFqb3JWZXJzaW9uIiwidmVyc2lvbnMiLCJfc3VwcG9ydHMiLCJmZWF0dXJlIiwicmV0cmlldmUiLCJpZHMiLCJfaXNBcnJheSIsIl9yZXRyaWV2ZU1hbnkiLCJfcmV0cmlldmVQYXJhbGxlbCIsIl9yZXRyaWV2ZVNpbmdsZSIsImZpZWxkcyIsImFsbCIsIl9tYXAiLCJjYXRjaCIsImFsbE9yTm9uZSIsImVycm9yQ29kZSIsIl9jb250ZXh0NCIsImZpZWxkIiwicmVjb3JkcyIsInJldCIsIl9jcmVhdGVNYW55IiwiX2NyZWF0ZVBhcmFsbGVsIiwiX2NyZWF0ZVNpbmdsZSIsInJlY29yZCIsIklkIiwicnR5cGUiLCJhdHRyaWJ1dGVzIiwicmVjIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsInNvYmplY3RUeXBlIiwiY29udGVudFR5cGUiLCJtdWx0aXBhcnRGaWxlRmllbGRzIiwiX2NvbnRleHQ1IiwiZm9ybSIsIkZvcm1EYXRhIiwiX2ZvckVhY2giLCJfZW50cmllcyIsImZpZWxkTmFtZSIsImZpbGVEZXRhaWxzIiwiYXBwZW5kIiwiZ2V0SGVhZGVycyIsInJlc29sdmUiLCJhbGxvd1JlY3Vyc2l2ZSIsIl9yZWNvcmRzIiwidXBkYXRlIiwiX3VwZGF0ZU1hbnkiLCJfdXBkYXRlUGFyYWxsZWwiLCJfdXBkYXRlU2luZ2xlIiwibm9Db250ZW50UmVzcG9uc2UiLCJ1cHNlcnQiLCJleHRJZEZpZWxkIiwiaXNBcnJheSIsInJlc3VsdHMiLCJfY29udGV4dDYiLCJleHRJZCIsIl9kZXN0cm95TWFueSIsIl9kZXN0cm95UGFyYWxsZWwiLCJfZGVzdHJveVNpbmdsZSIsIlNPYmplY3QiLCJpZGVudGl0eSIsInVzZXJfaWQiLCJvcmdhbml6YXRpb25faWQiLCJyZWNlbnQiLCJyZWNlbnRJdGVtcyIsInVwZGF0ZWQiLCJzdGFydCIsImVuZCIsIkRhdGUiLCJmb3JtYXREYXRlIiwiZGVsZXRlZCIsInRhYnMiLCJsaW1pdHMiLCJ0aGVtZSIsInF1aWNrQWN0aW9ucyIsInF1aWNrQWN0aW9uIiwiYWN0aW9uTmFtZSIsIlF1aWNrQWN0aW9uIiwiZXhwb3J0cyIsImdldExvZ2dlciIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vc3JjL2Nvbm5lY3Rpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICovXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IGpzZm9yY2UgZnJvbSAnLi9qc2ZvcmNlJztcbmltcG9ydCB7XG4gIEh0dHBSZXF1ZXN0LFxuICBIdHRwUmVzcG9uc2UsXG4gIENhbGxiYWNrLFxuICBSZWNvcmQsXG4gIFNhdmVSZXN1bHQsXG4gIFVwc2VydFJlc3VsdCxcbiAgRGVzY3JpYmVHbG9iYWxSZXN1bHQsXG4gIERlc2NyaWJlU09iamVjdFJlc3VsdCxcbiAgRGVzY3JpYmVUYWIsXG4gIERlc2NyaWJlVGhlbWUsXG4gIERlc2NyaWJlUXVpY2tBY3Rpb25SZXN1bHQsXG4gIFVwZGF0ZWRSZXN1bHQsXG4gIERlbGV0ZWRSZXN1bHQsXG4gIFNlYXJjaFJlc3VsdCxcbiAgT3JnYW5pemF0aW9uTGltaXRzSW5mbyxcbiAgT3B0aW9uYWwsXG4gIFNpZ25lZFJlcXVlc3RPYmplY3QsXG4gIFNhdmVFcnJvcixcbiAgRG1sT3B0aW9ucyxcbiAgUmV0cmlldmVPcHRpb25zLFxuICBTY2hlbWEsXG4gIFNPYmplY3ROYW1lcyxcbiAgU09iamVjdElucHV0UmVjb3JkLFxuICBTT2JqZWN0VXBkYXRlUmVjb3JkLFxuICBTT2JqZWN0RmllbGROYW1lcyxcbiAgVXNlckluZm8sXG4gIElkZW50aXR5SW5mbyxcbiAgTGltaXRJbmZvLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IFN0cmVhbVByb21pc2UgfSBmcm9tICcuL3V0aWwvcHJvbWlzZSc7XG5pbXBvcnQgVHJhbnNwb3J0LCB7XG4gIENhbnZhc1RyYW5zcG9ydCxcbiAgWGRQcm94eVRyYW5zcG9ydCxcbiAgSHR0cFByb3h5VHJhbnNwb3J0LFxufSBmcm9tICcuL3RyYW5zcG9ydCc7XG5pbXBvcnQgeyBMb2dnZXIsIGdldExvZ2dlciB9IGZyb20gJy4vdXRpbC9sb2dnZXInO1xuaW1wb3J0IHsgTG9nTGV2ZWxDb25maWcgfSBmcm9tICcuL3V0aWwvbG9nZ2VyJztcbmltcG9ydCBPQXV0aDIsIHsgVG9rZW5SZXNwb25zZSB9IGZyb20gJy4vb2F1dGgyJztcbmltcG9ydCB7IE9BdXRoMkNvbmZpZyB9IGZyb20gJy4vb2F1dGgyJztcbmltcG9ydCBDYWNoZSwgeyBDYWNoZWRGdW5jdGlvbiB9IGZyb20gJy4vY2FjaGUnO1xuaW1wb3J0IEh0dHBBcGkgZnJvbSAnLi9odHRwLWFwaSc7XG5pbXBvcnQgU2Vzc2lvblJlZnJlc2hEZWxlZ2F0ZSwge1xuICBTZXNzaW9uUmVmcmVzaEZ1bmMsXG59IGZyb20gJy4vc2Vzc2lvbi1yZWZyZXNoLWRlbGVnYXRlJztcbmltcG9ydCBRdWVyeSBmcm9tICcuL3F1ZXJ5JztcbmltcG9ydCB7IFF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4vcXVlcnknO1xuaW1wb3J0IFNPYmplY3QgZnJvbSAnLi9zb2JqZWN0JztcbmltcG9ydCBRdWlja0FjdGlvbiBmcm9tICcuL3F1aWNrLWFjdGlvbic7XG5pbXBvcnQgUHJvY2VzcyBmcm9tICcuL3Byb2Nlc3MnO1xuaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gJy4vdXRpbC9mb3JtYXR0ZXInO1xuaW1wb3J0IEFuYWx5dGljcyBmcm9tICcuL2FwaS9hbmFseXRpY3MnO1xuaW1wb3J0IEFwZXggZnJvbSAnLi9hcGkvYXBleCc7XG5pbXBvcnQgeyBCdWxrLCBCdWxrVjIgfSBmcm9tICcuL2FwaS9idWxrJztcbmltcG9ydCBDaGF0dGVyIGZyb20gJy4vYXBpL2NoYXR0ZXInO1xuaW1wb3J0IE1ldGFkYXRhIGZyb20gJy4vYXBpL21ldGFkYXRhJztcbmltcG9ydCBTb2FwQXBpIGZyb20gJy4vYXBpL3NvYXAnO1xuaW1wb3J0IFN0cmVhbWluZyBmcm9tICcuL2FwaS9zdHJlYW1pbmcnO1xuaW1wb3J0IFRvb2xpbmcgZnJvbSAnLi9hcGkvdG9vbGluZyc7XG5pbXBvcnQgRm9ybURhdGEgZnJvbSAnZm9ybS1kYXRhJztcblxuLyoqXG4gKiB0eXBlIGRlZmluaXRpb25zXG4gKi9cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25Db25maWc8UyBleHRlbmRzIFNjaGVtYSA9IFNjaGVtYT4gPSB7XG4gIHZlcnNpb24/OiBzdHJpbmc7XG4gIGxvZ2luVXJsPzogc3RyaW5nO1xuICBhY2Nlc3NUb2tlbj86IHN0cmluZztcbiAgcmVmcmVzaFRva2VuPzogc3RyaW5nO1xuICBpbnN0YW5jZVVybD86IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICBzZXJ2ZXJVcmw/OiBzdHJpbmc7XG4gIHNpZ25lZFJlcXVlc3Q/OiBzdHJpbmc7XG4gIG9hdXRoMj86IE9BdXRoMiB8IE9BdXRoMkNvbmZpZztcbiAgbWF4UmVxdWVzdD86IG51bWJlcjtcbiAgcHJveHlVcmw/OiBzdHJpbmc7XG4gIGh0dHBQcm94eT86IHN0cmluZztcbiAgbG9nTGV2ZWw/OiBMb2dMZXZlbENvbmZpZztcbiAgY2FsbE9wdGlvbnM/OiB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgcmVmcmVzaEZuPzogU2Vzc2lvblJlZnJlc2hGdW5jPFM+O1xufTtcblxuZXhwb3J0IHR5cGUgQ29ubmVjdGlvbkVzdGFibGlzaE9wdGlvbnMgPSB7XG4gIGFjY2Vzc1Rva2VuPzogT3B0aW9uYWw8c3RyaW5nPjtcbiAgcmVmcmVzaFRva2VuPzogT3B0aW9uYWw8c3RyaW5nPjtcbiAgaW5zdGFuY2VVcmw/OiBPcHRpb25hbDxzdHJpbmc+O1xuICBzZXNzaW9uSWQ/OiBPcHRpb25hbDxzdHJpbmc+O1xuICBzZXJ2ZXJVcmw/OiBPcHRpb25hbDxzdHJpbmc+O1xuICBzaWduZWRSZXF1ZXN0PzogT3B0aW9uYWw8c3RyaW5nIHwgU2lnbmVkUmVxdWVzdE9iamVjdD47XG4gIHVzZXJJbmZvPzogT3B0aW9uYWw8VXNlckluZm8+O1xufTtcblxuLyoqXG4gKlxuICovXG5jb25zdCBkZWZhdWx0Q29ubmVjdGlvbkNvbmZpZzoge1xuICBsb2dpblVybDogc3RyaW5nO1xuICBpbnN0YW5jZVVybDogc3RyaW5nO1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIGxvZ0xldmVsOiBMb2dMZXZlbENvbmZpZztcbiAgbWF4UmVxdWVzdDogbnVtYmVyO1xufSA9IHtcbiAgbG9naW5Vcmw6ICdodHRwczovL2xvZ2luLnNhbGVzZm9yY2UuY29tJyxcbiAgaW5zdGFuY2VVcmw6ICcnLFxuICB2ZXJzaW9uOiAnNTAuMCcsXG4gIGxvZ0xldmVsOiAnTk9ORScsXG4gIG1heFJlcXVlc3Q6IDEwLFxufTtcblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBlc2Moc3RyOiBPcHRpb25hbDxzdHJpbmc+KTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZyhzdHIgfHwgJycpXG4gICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59XG5cbi8qKlxuICpcbiAqL1xuZnVuY3Rpb24gcGFyc2VTaWduZWRSZXF1ZXN0KHNyOiBzdHJpbmcgfCBPYmplY3QpOiBTaWduZWRSZXF1ZXN0T2JqZWN0IHtcbiAgaWYgKHR5cGVvZiBzciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoc3JbMF0gPT09ICd7Jykge1xuICAgICAgLy8gbWlnaHQgYmUgSlNPTlxuICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3IpO1xuICAgIH0gLy8gbWlnaHQgYmUgb3JpZ2luYWwgYmFzZTY0LWVuY29kZWQgc2lnbmVkIHJlcXVlc3RcbiAgICBjb25zdCBtc2cgPSBzci5zcGxpdCgnLicpLnBvcCgpOyAvLyByZXRyaWV2ZSBsYXR0ZXIgcGFydFxuICAgIGlmICghbXNnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2lnbmVkIHJlcXVlc3QnKTtcbiAgICB9XG4gICAgY29uc3QganNvbiA9IEJ1ZmZlci5mcm9tKG1zZywgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGYtOCcpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICB9XG4gIHJldHVybiBzciBhcyBTaWduZWRSZXF1ZXN0T2JqZWN0O1xufVxuXG4vKiogQHByaXZhdGUgKiovXG5mdW5jdGlvbiBwYXJzZUlkVXJsKHVybDogc3RyaW5nKSB7XG4gIGNvbnN0IFtvcmdhbml6YXRpb25JZCwgaWRdID0gdXJsLnNwbGl0KCcvJykuc2xpY2UoLTIpO1xuICByZXR1cm4geyBpZCwgb3JnYW5pemF0aW9uSWQsIHVybCB9O1xufVxuXG4vKipcbiAqIFNlc3Npb24gUmVmcmVzaCBkZWxlZ2F0ZSBmdW5jdGlvbiBmb3IgT0F1dGgyIGF1dGh6IGNvZGUgZmxvd1xuICogQHByaXZhdGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gb2F1dGhSZWZyZXNoRm48UyBleHRlbmRzIFNjaGVtYT4oXG4gIGNvbm46IENvbm5lY3Rpb248Uz4sXG4gIGNhbGxiYWNrOiBDYWxsYmFjazxzdHJpbmcsIFRva2VuUmVzcG9uc2U+LFxuKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFjb25uLnJlZnJlc2hUb2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZWZyZXNoIHRva2VuIGZvdW5kIGluIHRoZSBjb25uZWN0aW9uJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNvbm4ub2F1dGgyLnJlZnJlc2hUb2tlbihjb25uLnJlZnJlc2hUb2tlbik7XG4gICAgY29uc3QgdXNlckluZm8gPSBwYXJzZUlkVXJsKHJlcy5pZCk7XG4gICAgY29ubi5fZXN0YWJsaXNoKHtcbiAgICAgIGluc3RhbmNlVXJsOiByZXMuaW5zdGFuY2VfdXJsLFxuICAgICAgYWNjZXNzVG9rZW46IHJlcy5hY2Nlc3NfdG9rZW4sXG4gICAgICB1c2VySW5mbyxcbiAgICB9KTtcbiAgICBjYWxsYmFjayh1bmRlZmluZWQsIHJlcy5hY2Nlc3NfdG9rZW4sIHJlcyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNlc3Npb24gUmVmcmVzaCBkZWxlZ2F0ZSBmdW5jdGlvbiBmb3IgdXNlcm5hbWUvcGFzc3dvcmQgbG9naW5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVzZXJuYW1lUGFzc3dvcmRSZWZyZXNoRm48UyBleHRlbmRzIFNjaGVtYT4oXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4pIHtcbiAgcmV0dXJuIGFzeW5jIChcbiAgICBjb25uOiBDb25uZWN0aW9uPFM+LFxuICAgIGNhbGxiYWNrOiBDYWxsYmFjazxzdHJpbmcsIFRva2VuUmVzcG9uc2U+LFxuICApID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29ubi5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgaWYgKCFjb25uLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIHRva2VuIG5vdCBmb3VuZCBhZnRlciBsb2dpbicpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgY29ubi5hY2Nlc3NUb2tlbik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdG9TYXZlUmVzdWx0KGVycjogU2F2ZUVycm9yKTogU2F2ZVJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgZXJyb3JzOiBbZXJyXSxcbiAgfTtcbn1cblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiByYWlzZU5vTW9kdWxlRXJyb3IobmFtZTogc3RyaW5nKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYEFQSSBtb2R1bGUgJyR7bmFtZX0nIGlzIG5vdCBsb2FkZWQsIGxvYWQgJ2pzZm9yY2UvYXBpLyR7bmFtZX0nIGV4cGxpY2l0bHlgLFxuICApO1xufVxuXG4vKlxuICogQ29uc3RhbnQgb2YgbWF4aW11bSByZWNvcmRzIG51bSBpbiBETUwgb3BlcmF0aW9uICh1cGRhdGUvZGVsZXRlKVxuICovXG5jb25zdCBNQVhfRE1MX0NPVU5UID0gMjAwO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uPFMgZXh0ZW5kcyBTY2hlbWEgPSBTY2hlbWE+IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgc3RhdGljIF9sb2dnZXIgPSBnZXRMb2dnZXIoJ2Nvbm5lY3Rpb24nKTtcblxuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIGxvZ2luVXJsOiBzdHJpbmc7XG4gIGluc3RhbmNlVXJsOiBzdHJpbmc7XG4gIGFjY2Vzc1Rva2VuOiBPcHRpb25hbDxzdHJpbmc+O1xuICByZWZyZXNoVG9rZW46IE9wdGlvbmFsPHN0cmluZz47XG4gIHVzZXJJbmZvOiBPcHRpb25hbDxVc2VySW5mbz47XG4gIGxpbWl0SW5mbzogTGltaXRJbmZvID0ge307XG4gIG9hdXRoMjogT0F1dGgyO1xuICBzb2JqZWN0czogeyBbTiBpbiBTT2JqZWN0TmFtZXM8Uz5dPzogU09iamVjdDxTLCBOPiB9ID0ge307XG4gIGNhY2hlOiBDYWNoZTtcbiAgX2NhbGxPcHRpb25zOiBPcHRpb25hbDx7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfT47XG4gIF9tYXhSZXF1ZXN0OiBudW1iZXI7XG4gIF9sb2dnZXI6IExvZ2dlcjtcbiAgX2xvZ0xldmVsOiBPcHRpb25hbDxMb2dMZXZlbENvbmZpZz47XG4gIF90cmFuc3BvcnQ6IFRyYW5zcG9ydDtcbiAgX3Nlc3Npb25UeXBlOiBPcHRpb25hbDwnc29hcCcgfCAnb2F1dGgyJz47XG4gIF9yZWZyZXNoRGVsZWdhdGU6IE9wdGlvbmFsPFNlc3Npb25SZWZyZXNoRGVsZWdhdGU8Uz4+O1xuXG4gIC8vIGRlc2NyaWJlOiAobmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPERlc2NyaWJlU09iamVjdFJlc3VsdD47XG4gIGRlc2NyaWJlJDogQ2FjaGVkRnVuY3Rpb248KG5hbWU6IHN0cmluZykgPT4gUHJvbWlzZTxEZXNjcmliZVNPYmplY3RSZXN1bHQ+PjtcbiAgZGVzY3JpYmUkJDogQ2FjaGVkRnVuY3Rpb248KG5hbWU6IHN0cmluZykgPT4gRGVzY3JpYmVTT2JqZWN0UmVzdWx0PjtcbiAgZGVzY3JpYmVTT2JqZWN0OiAobmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPERlc2NyaWJlU09iamVjdFJlc3VsdD47XG4gIGRlc2NyaWJlU09iamVjdCQ6IENhY2hlZEZ1bmN0aW9uPFxuICAgIChuYW1lOiBzdHJpbmcpID0+IFByb21pc2U8RGVzY3JpYmVTT2JqZWN0UmVzdWx0PlxuICA+O1xuICBkZXNjcmliZVNPYmplY3QkJDogQ2FjaGVkRnVuY3Rpb248KG5hbWU6IHN0cmluZykgPT4gRGVzY3JpYmVTT2JqZWN0UmVzdWx0PjtcbiAgLy8gZGVzY3JpYmVHbG9iYWw6ICgpID0+IFByb21pc2U8RGVzY3JpYmVHbG9iYWxSZXN1bHQ+O1xuICBkZXNjcmliZUdsb2JhbCQ6IENhY2hlZEZ1bmN0aW9uPCgpID0+IFByb21pc2U8RGVzY3JpYmVHbG9iYWxSZXN1bHQ+PjtcbiAgZGVzY3JpYmVHbG9iYWwkJDogQ2FjaGVkRnVuY3Rpb248KCkgPT4gRGVzY3JpYmVHbG9iYWxSZXN1bHQ+O1xuXG4gIC8vIEFQSSBsaWJzIGFyZSBub3QgaW5zdGFudGlhdGVkIGhlcmUgc28gdGhhdCBjb3JlIG1vZHVsZSB0byByZW1haW4gd2l0aG91dCBkZXBlbmRlbmNpZXMgdG8gdGhlbVxuICAvLyBJdCBpcyByZXNwb25zaWJsZSBmb3IgZGV2ZWxvcGVycyB0byBpbXBvcnQgYXBpIGxpYnMgZXhwbGljaXRseSBpZiB0aGV5IGFyZSB1c2luZyAnanNmb3JjZS9jb3JlJyBpbnN0ZWFkIG9mICdqc2ZvcmNlJy5cbiAgZ2V0IGFuYWx5dGljcygpOiBBbmFseXRpY3M8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ2FuYWx5dGljcycpO1xuICB9XG5cbiAgZ2V0IGFwZXgoKTogQXBleDxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignYXBleCcpO1xuICB9XG5cbiAgZ2V0IGJ1bGsoKTogQnVsazxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignYnVsaycpO1xuICB9XG5cbiAgZ2V0IGJ1bGsyKCk6IEJ1bGtWMjxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignYnVsazInKTtcbiAgfVxuXG4gIGdldCBjaGF0dGVyKCk6IENoYXR0ZXI8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ2NoYXR0ZXInKTtcbiAgfVxuXG4gIGdldCBtZXRhZGF0YSgpOiBNZXRhZGF0YTxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignbWV0YWRhdGEnKTtcbiAgfVxuXG4gIGdldCBzb2FwKCk6IFNvYXBBcGk8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ3NvYXAnKTtcbiAgfVxuXG4gIGdldCBzdHJlYW1pbmcoKTogU3RyZWFtaW5nPFM+IHtcbiAgICByZXR1cm4gcmFpc2VOb01vZHVsZUVycm9yKCdzdHJlYW1pbmcnKTtcbiAgfVxuXG4gIGdldCB0b29saW5nKCk6IFRvb2xpbmc8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ3Rvb2xpbmcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25uZWN0aW9uQ29uZmlnPFM+ID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHtcbiAgICAgIGxvZ2luVXJsLFxuICAgICAgaW5zdGFuY2VVcmwsXG4gICAgICB2ZXJzaW9uLFxuICAgICAgb2F1dGgyLFxuICAgICAgbWF4UmVxdWVzdCxcbiAgICAgIGxvZ0xldmVsLFxuICAgICAgcHJveHlVcmwsXG4gICAgICBodHRwUHJveHksXG4gICAgfSA9IGNvbmZpZztcbiAgICB0aGlzLmxvZ2luVXJsID0gbG9naW5VcmwgfHwgZGVmYXVsdENvbm5lY3Rpb25Db25maWcubG9naW5Vcmw7XG4gICAgdGhpcy5pbnN0YW5jZVVybCA9IGluc3RhbmNlVXJsIHx8IGRlZmF1bHRDb25uZWN0aW9uQ29uZmlnLmluc3RhbmNlVXJsO1xuICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb24gfHwgZGVmYXVsdENvbm5lY3Rpb25Db25maWcudmVyc2lvbjtcbiAgICB0aGlzLm9hdXRoMiA9XG4gICAgICBvYXV0aDIgaW5zdGFuY2VvZiBPQXV0aDJcbiAgICAgICAgPyBvYXV0aDJcbiAgICAgICAgOiBuZXcgT0F1dGgyKHtcbiAgICAgICAgICAgIGxvZ2luVXJsOiB0aGlzLmxvZ2luVXJsLFxuICAgICAgICAgICAgcHJveHlVcmwsXG4gICAgICAgICAgICBodHRwUHJveHksXG4gICAgICAgICAgICAuLi5vYXV0aDIsXG4gICAgICAgICAgfSk7XG4gICAgbGV0IHJlZnJlc2hGbiA9IGNvbmZpZy5yZWZyZXNoRm47XG4gICAgaWYgKCFyZWZyZXNoRm4gJiYgdGhpcy5vYXV0aDIuY2xpZW50SWQpIHtcbiAgICAgIHJlZnJlc2hGbiA9IG9hdXRoUmVmcmVzaEZuO1xuICAgIH1cbiAgICBpZiAocmVmcmVzaEZuKSB7XG4gICAgICB0aGlzLl9yZWZyZXNoRGVsZWdhdGUgPSBuZXcgU2Vzc2lvblJlZnJlc2hEZWxlZ2F0ZSh0aGlzLCByZWZyZXNoRm4pO1xuICAgIH1cbiAgICB0aGlzLl9tYXhSZXF1ZXN0ID0gbWF4UmVxdWVzdCB8fCBkZWZhdWx0Q29ubmVjdGlvbkNvbmZpZy5tYXhSZXF1ZXN0O1xuICAgIHRoaXMuX2xvZ2dlciA9IGxvZ0xldmVsXG4gICAgICA/IENvbm5lY3Rpb24uX2xvZ2dlci5jcmVhdGVJbnN0YW5jZShsb2dMZXZlbClcbiAgICAgIDogQ29ubmVjdGlvbi5fbG9nZ2VyO1xuICAgIHRoaXMuX2xvZ0xldmVsID0gbG9nTGV2ZWw7XG4gICAgdGhpcy5fdHJhbnNwb3J0ID0gcHJveHlVcmxcbiAgICAgID8gbmV3IFhkUHJveHlUcmFuc3BvcnQocHJveHlVcmwpXG4gICAgICA6IGh0dHBQcm94eVxuICAgICAgPyBuZXcgSHR0cFByb3h5VHJhbnNwb3J0KGh0dHBQcm94eSlcbiAgICAgIDogbmV3IFRyYW5zcG9ydCgpO1xuICAgIHRoaXMuX2NhbGxPcHRpb25zID0gY29uZmlnLmNhbGxPcHRpb25zO1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgQ2FjaGUoKTtcbiAgICBjb25zdCBkZXNjcmliZUNhY2hlS2V5ID0gKHR5cGU/OiBzdHJpbmcpID0+XG4gICAgICB0eXBlID8gYGRlc2NyaWJlLiR7dHlwZX1gIDogJ2Rlc2NyaWJlJztcbiAgICBjb25zdCBkZXNjcmliZSA9IENvbm5lY3Rpb24ucHJvdG90eXBlLmRlc2NyaWJlO1xuICAgIHRoaXMuZGVzY3JpYmUgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKGRlc2NyaWJlLCB0aGlzLCB7XG4gICAgICBrZXk6IGRlc2NyaWJlQ2FjaGVLZXksXG4gICAgICBzdHJhdGVneTogJ05PQ0FDSEUnLFxuICAgIH0pO1xuICAgIHRoaXMuZGVzY3JpYmUkID0gdGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihkZXNjcmliZSwgdGhpcywge1xuICAgICAga2V5OiBkZXNjcmliZUNhY2hlS2V5LFxuICAgICAgc3RyYXRlZ3k6ICdISVQnLFxuICAgIH0pO1xuICAgIHRoaXMuZGVzY3JpYmUkJCA9IHRoaXMuY2FjaGUuY3JlYXRlQ2FjaGVkRnVuY3Rpb24oZGVzY3JpYmUsIHRoaXMsIHtcbiAgICAgIGtleTogZGVzY3JpYmVDYWNoZUtleSxcbiAgICAgIHN0cmF0ZWd5OiAnSU1NRURJQVRFJyxcbiAgICB9KSBhcyBhbnk7XG4gICAgdGhpcy5kZXNjcmliZVNPYmplY3QgPSB0aGlzLmRlc2NyaWJlO1xuICAgIHRoaXMuZGVzY3JpYmVTT2JqZWN0JCA9IHRoaXMuZGVzY3JpYmUkO1xuICAgIHRoaXMuZGVzY3JpYmVTT2JqZWN0JCQgPSB0aGlzLmRlc2NyaWJlJCQ7XG4gICAgY29uc3QgZGVzY3JpYmVHbG9iYWwgPSBDb25uZWN0aW9uLnByb3RvdHlwZS5kZXNjcmliZUdsb2JhbDtcbiAgICB0aGlzLmRlc2NyaWJlR2xvYmFsID0gdGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihcbiAgICAgIGRlc2NyaWJlR2xvYmFsLFxuICAgICAgdGhpcyxcbiAgICAgIHsga2V5OiAnZGVzY3JpYmVHbG9iYWwnLCBzdHJhdGVneTogJ05PQ0FDSEUnIH0sXG4gICAgKTtcbiAgICB0aGlzLmRlc2NyaWJlR2xvYmFsJCA9IHRoaXMuY2FjaGUuY3JlYXRlQ2FjaGVkRnVuY3Rpb24oXG4gICAgICBkZXNjcmliZUdsb2JhbCxcbiAgICAgIHRoaXMsXG4gICAgICB7IGtleTogJ2Rlc2NyaWJlR2xvYmFsJywgc3RyYXRlZ3k6ICdISVQnIH0sXG4gICAgKTtcbiAgICB0aGlzLmRlc2NyaWJlR2xvYmFsJCQgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKFxuICAgICAgZGVzY3JpYmVHbG9iYWwsXG4gICAgICB0aGlzLFxuICAgICAgeyBrZXk6ICdkZXNjcmliZUdsb2JhbCcsIHN0cmF0ZWd5OiAnSU1NRURJQVRFJyB9LFxuICAgICkgYXMgYW55O1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY2Vzc1Rva2VuLFxuICAgICAgcmVmcmVzaFRva2VuLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgc2VydmVyVXJsLFxuICAgICAgc2lnbmVkUmVxdWVzdCxcbiAgICB9ID0gY29uZmlnO1xuICAgIHRoaXMuX2VzdGFibGlzaCh7XG4gICAgICBhY2Nlc3NUb2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgIGluc3RhbmNlVXJsLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgc2VydmVyVXJsLFxuICAgICAgc2lnbmVkUmVxdWVzdCxcbiAgICB9KTtcblxuICAgIGpzZm9yY2UuZW1pdCgnY29ubmVjdGlvbjpuZXcnLCB0aGlzKTtcbiAgfVxuXG4gIC8qIEBwcml2YXRlICovXG4gIF9lc3RhYmxpc2gob3B0aW9uczogQ29ubmVjdGlvbkVzdGFibGlzaE9wdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBhY2Nlc3NUb2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgIGluc3RhbmNlVXJsLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgc2VydmVyVXJsLFxuICAgICAgc2lnbmVkUmVxdWVzdCxcbiAgICAgIHVzZXJJbmZvLFxuICAgIH0gPSBvcHRpb25zO1xuICAgIHRoaXMuaW5zdGFuY2VVcmwgPSBzZXJ2ZXJVcmxcbiAgICAgID8gc2VydmVyVXJsLnNwbGl0KCcvJykuc2xpY2UoMCwgMykuam9pbignLycpXG4gICAgICA6IGluc3RhbmNlVXJsIHx8IHRoaXMuaW5zdGFuY2VVcmw7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IHNlc3Npb25JZCB8fCBhY2Nlc3NUb2tlbiB8fCB0aGlzLmFjY2Vzc1Rva2VuO1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuIHx8IHRoaXMucmVmcmVzaFRva2VuO1xuICAgIGlmICh0aGlzLnJlZnJlc2hUb2tlbiAmJiAhdGhpcy5fcmVmcmVzaERlbGVnYXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdSZWZyZXNoIHRva2VuIGlzIHNwZWNpZmllZCB3aXRob3V0IG9hdXRoMiBjbGllbnQgaW5mb3JtYXRpb24gb3IgcmVmcmVzaCBmdW5jdGlvbicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzaWduZWRSZXF1ZXN0T2JqZWN0ID1cbiAgICAgIHNpZ25lZFJlcXVlc3QgJiYgcGFyc2VTaWduZWRSZXF1ZXN0KHNpZ25lZFJlcXVlc3QpO1xuICAgIGlmIChzaWduZWRSZXF1ZXN0T2JqZWN0KSB7XG4gICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gc2lnbmVkUmVxdWVzdE9iamVjdC5jbGllbnQub2F1dGhUb2tlbjtcbiAgICAgIGlmIChDYW52YXNUcmFuc3BvcnQuc3VwcG9ydGVkKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IG5ldyBDYW52YXNUcmFuc3BvcnQoc2lnbmVkUmVxdWVzdE9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbyB8fCB0aGlzLnVzZXJJbmZvO1xuICAgIHRoaXMuX3Nlc3Npb25UeXBlID0gc2Vzc2lvbklkID8gJ3NvYXAnIDogJ29hdXRoMic7XG4gICAgdGhpcy5fcmVzZXRJbnN0YW5jZSgpO1xuICB9XG5cbiAgLyogQHByaXZlYXRlICovXG4gIF9jbGVhclNlc3Npb24oKSB7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG51bGw7XG4gICAgdGhpcy5yZWZyZXNoVG9rZW4gPSBudWxsO1xuICAgIHRoaXMuaW5zdGFuY2VVcmwgPSBkZWZhdWx0Q29ubmVjdGlvbkNvbmZpZy5pbnN0YW5jZVVybDtcbiAgICB0aGlzLnVzZXJJbmZvID0gbnVsbDtcbiAgICB0aGlzLl9zZXNzaW9uVHlwZSA9IG51bGw7XG4gIH1cblxuICAvKiBAcHJpdmVhdGUgKi9cbiAgX3Jlc2V0SW5zdGFuY2UoKSB7XG4gICAgdGhpcy5saW1pdEluZm8gPSB7fTtcbiAgICB0aGlzLnNvYmplY3RzID0ge307XG4gICAgLy8gVE9ETyBpbXBsIGNhY2hlXG4gICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuY2FjaGUuZ2V0KCdkZXNjcmliZUdsb2JhbCcpLnJlbW92ZUFsbExpc3RlbmVycygndmFsdWUnKTtcbiAgICB0aGlzLmNhY2hlLmdldCgnZGVzY3JpYmVHbG9iYWwnKS5vbigndmFsdWUnLCAoeyByZXN1bHQgfSkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNvIG9mIHJlc3VsdC5zb2JqZWN0cykge1xuICAgICAgICAgIHRoaXMuc29iamVjdChzby5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8qXG4gICAgaWYgKHRoaXMudG9vbGluZykge1xuICAgICAgdGhpcy50b29saW5nLl9yZXNldEluc3RhbmNlKCk7XG4gICAgfVxuICAgICovXG4gIH1cblxuICAvKipcbiAgICogQXV0aG9yaXplIHRoZSBjb25uZWN0aW9uIHVzaW5nIE9BdXRoMiBmbG93LlxuICAgKiBUeXBpY2FsbHksIGp1c3QgcGFzcyB0aGUgY29kZSByZXR1cm5lZCBmcm9tIGF1dGhvcml6YXRpb24gc2VydmVyIGluIHRoZSBmaXJzdCBhcmd1bWVudCB0byBjb21wbGV0ZSBhdXRob3JpemF0aW9uLlxuICAgKiBJZiB5b3Ugd2FudCB0byBhdXRob3JpemUgd2l0aCBncmFudCB0eXBlcyBvdGhlciB0aGFuIGBhdXRob3JpemF0aW9uX2NvZGVgLCB5b3UgY2FuIGFsc28gcGFzcyBwYXJhbXMgb2JqZWN0IHdpdGggdGhlIGdyYW50IHR5cGUuXG4gICAqL1xuICBhc3luYyBhdXRob3JpemUoXG4gICAgY29kZU9yUGFyYW1zOiBzdHJpbmcgfCB7IGdyYW50X3R5cGU6IHN0cmluZzsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHBhcmFtczogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fSxcbiAgKTogUHJvbWlzZTxVc2VySW5mbz4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMub2F1dGgyLnJlcXVlc3RUb2tlbihjb2RlT3JQYXJhbXMsIHBhcmFtcyk7XG4gICAgY29uc3QgdXNlckluZm8gPSBwYXJzZUlkVXJsKHJlcy5pZCk7XG4gICAgdGhpcy5fZXN0YWJsaXNoKHtcbiAgICAgIGluc3RhbmNlVXJsOiByZXMuaW5zdGFuY2VfdXJsLFxuICAgICAgYWNjZXNzVG9rZW46IHJlcy5hY2Nlc3NfdG9rZW4sXG4gICAgICByZWZyZXNoVG9rZW46IHJlcy5yZWZyZXNoX3Rva2VuLFxuICAgICAgdXNlckluZm8sXG4gICAgfSk7XG4gICAgdGhpcy5fbG9nZ2VyLmRlYnVnKFxuICAgICAgYDxsb2dpbj4gY29tcGxldGVkLiB1c2VyIGlkID0gJHt1c2VySW5mby5pZH0sIG9yZyBpZCA9ICR7dXNlckluZm8ub3JnYW5pemF0aW9uSWR9YCxcbiAgICApO1xuICAgIHJldHVybiB1c2VySW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgbG9naW4odXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8VXNlckluZm8+IHtcbiAgICB0aGlzLl9yZWZyZXNoRGVsZWdhdGUgPSBuZXcgU2Vzc2lvblJlZnJlc2hEZWxlZ2F0ZShcbiAgICAgIHRoaXMsXG4gICAgICBjcmVhdGVVc2VybmFtZVBhc3N3b3JkUmVmcmVzaEZuKHVzZXJuYW1lLCBwYXNzd29yZCksXG4gICAgKTtcbiAgICBpZiAodGhpcy5vYXV0aDIgJiYgdGhpcy5vYXV0aDIuY2xpZW50SWQgJiYgdGhpcy5vYXV0aDIuY2xpZW50U2VjcmV0KSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dpbkJ5T0F1dGgyKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxvZ2luQnlTb2FwKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gIH1cblxuICAvKipcbiAgICogTG9naW4gYnkgT0F1dGgyIHVzZXJuYW1lICYgcGFzc3dvcmQgZmxvd1xuICAgKi9cbiAgYXN5bmMgbG9naW5CeU9BdXRoMih1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxVc2VySW5mbz4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMub2F1dGgyLmF1dGhlbnRpY2F0ZSh1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgIGNvbnN0IHVzZXJJbmZvID0gcGFyc2VJZFVybChyZXMuaWQpO1xuICAgIHRoaXMuX2VzdGFibGlzaCh7XG4gICAgICBpbnN0YW5jZVVybDogcmVzLmluc3RhbmNlX3VybCxcbiAgICAgIGFjY2Vzc1Rva2VuOiByZXMuYWNjZXNzX3Rva2VuLFxuICAgICAgdXNlckluZm8sXG4gICAgfSk7XG4gICAgdGhpcy5fbG9nZ2VyLmluZm8oXG4gICAgICBgPGxvZ2luPiBjb21wbGV0ZWQuIHVzZXIgaWQgPSAke3VzZXJJbmZvLmlkfSwgb3JnIGlkID0gJHt1c2VySW5mby5vcmdhbml6YXRpb25JZH1gLFxuICAgICk7XG4gICAgcmV0dXJuIHVzZXJJbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBhc3luYyBsb2dpbkJ5U29hcCh1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxVc2VySW5mbz4ge1xuICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdubyB1c2VybmFtZSBwYXNzd29yZCBnaXZlbicpKTtcbiAgICB9XG4gICAgY29uc3QgYm9keSA9IFtcbiAgICAgICc8c2U6RW52ZWxvcGUgeG1sbnM6c2U9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlL1wiPicsXG4gICAgICAnPHNlOkhlYWRlci8+JyxcbiAgICAgICc8c2U6Qm9keT4nLFxuICAgICAgJzxsb2dpbiB4bWxucz1cInVybjpwYXJ0bmVyLnNvYXAuc2ZvcmNlLmNvbVwiPicsXG4gICAgICBgPHVzZXJuYW1lPiR7ZXNjKHVzZXJuYW1lKX08L3VzZXJuYW1lPmAsXG4gICAgICBgPHBhc3N3b3JkPiR7ZXNjKHBhc3N3b3JkKX08L3Bhc3N3b3JkPmAsXG4gICAgICAnPC9sb2dpbj4nLFxuICAgICAgJzwvc2U6Qm9keT4nLFxuICAgICAgJzwvc2U6RW52ZWxvcGU+JyxcbiAgICBdLmpvaW4oJycpO1xuXG4gICAgY29uc3Qgc29hcExvZ2luRW5kcG9pbnQgPSBbXG4gICAgICB0aGlzLmxvZ2luVXJsLFxuICAgICAgJ3NlcnZpY2VzL1NvYXAvdScsXG4gICAgICB0aGlzLnZlcnNpb24sXG4gICAgXS5qb2luKCcvJyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl90cmFuc3BvcnQuaHR0cFJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6IHNvYXBMb2dpbkVuZHBvaW50LFxuICAgICAgYm9keSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3htbCcsXG4gICAgICAgIFNPQVBBY3Rpb246ICdcIlwiJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgbGV0IG07XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPj0gNDAwKSB7XG4gICAgICBtID0gcmVzcG9uc2UuYm9keS5tYXRjaCgvPGZhdWx0c3RyaW5nPihbXjxdKyk8XFwvZmF1bHRzdHJpbmc+Lyk7XG4gICAgICBjb25zdCBmYXVsdHN0cmluZyA9IG0gJiYgbVsxXTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihmYXVsdHN0cmluZyB8fCByZXNwb25zZS5ib2R5KTtcbiAgICB9XG4gICAgdGhpcy5fbG9nZ2VyLmRlYnVnKGBTT0FQIHJlc3BvbnNlID0gJHtyZXNwb25zZS5ib2R5fWApO1xuICAgIG0gPSByZXNwb25zZS5ib2R5Lm1hdGNoKC88c2VydmVyVXJsPihbXjxdKyk8XFwvc2VydmVyVXJsPi8pO1xuICAgIGNvbnN0IHNlcnZlclVybCA9IG0gJiYgbVsxXTtcbiAgICBtID0gcmVzcG9uc2UuYm9keS5tYXRjaCgvPHNlc3Npb25JZD4oW148XSspPFxcL3Nlc3Npb25JZD4vKTtcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBtICYmIG1bMV07XG4gICAgbSA9IHJlc3BvbnNlLmJvZHkubWF0Y2goLzx1c2VySWQ+KFtePF0rKTxcXC91c2VySWQ+Lyk7XG4gICAgY29uc3QgdXNlcklkID0gbSAmJiBtWzFdO1xuICAgIG0gPSByZXNwb25zZS5ib2R5Lm1hdGNoKC88b3JnYW5pemF0aW9uSWQ+KFtePF0rKTxcXC9vcmdhbml6YXRpb25JZD4vKTtcbiAgICBjb25zdCBvcmdhbml6YXRpb25JZCA9IG0gJiYgbVsxXTtcbiAgICBpZiAoIXNlcnZlclVybCB8fCAhc2Vzc2lvbklkIHx8ICF1c2VySWQgfHwgIW9yZ2FuaXphdGlvbklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdjb3VsZCBub3QgZXh0cmFjdCBzZXNzaW9uIGluZm9ybWF0aW9uIGZyb20gbG9naW4gcmVzcG9uc2UnLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaWRVcmwgPSBbdGhpcy5sb2dpblVybCwgJ2lkJywgb3JnYW5pemF0aW9uSWQsIHVzZXJJZF0uam9pbignLycpO1xuICAgIGNvbnN0IHVzZXJJbmZvID0geyBpZDogdXNlcklkLCBvcmdhbml6YXRpb25JZCwgdXJsOiBpZFVybCB9O1xuICAgIHRoaXMuX2VzdGFibGlzaCh7XG4gICAgICBzZXJ2ZXJVcmw6IHNlcnZlclVybC5zcGxpdCgnLycpLnNsaWNlKDAsIDMpLmpvaW4oJy8nKSxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHVzZXJJbmZvLFxuICAgIH0pO1xuICAgIHRoaXMuX2xvZ2dlci5pbmZvKFxuICAgICAgYDxsb2dpbj4gY29tcGxldGVkLiB1c2VyIGlkID0gJHt1c2VySWR9LCBvcmcgaWQgPSAke29yZ2FuaXphdGlvbklkfWAsXG4gICAgKTtcbiAgICByZXR1cm4gdXNlckluZm87XG4gIH1cblxuICAvKipcbiAgICogTG9nb3V0IHRoZSBjdXJyZW50IHNlc3Npb25cbiAgICovXG4gIGFzeW5jIGxvZ291dChyZXZva2U/OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5fcmVmcmVzaERlbGVnYXRlID0gdW5kZWZpbmVkO1xuICAgIGlmICh0aGlzLl9zZXNzaW9uVHlwZSA9PT0gJ29hdXRoMicpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZ291dEJ5T0F1dGgyKHJldm9rZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxvZ291dEJ5U29hcChyZXZva2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZ291dCB0aGUgY3VycmVudCBzZXNzaW9uIGJ5IHJldm9raW5nIGFjY2VzcyB0b2tlbiB2aWEgT0F1dGgyIHNlc3Npb24gcmV2b2tlXG4gICAqL1xuICBhc3luYyBsb2dvdXRCeU9BdXRoMihyZXZva2U/OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXZva2UgPyB0aGlzLnJlZnJlc2hUb2tlbiA6IHRoaXMuYWNjZXNzVG9rZW47XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBhd2FpdCB0aGlzLm9hdXRoMi5yZXZva2VUb2tlbih0b2tlbik7XG4gICAgfVxuICAgIC8vIERlc3Ryb3kgdGhlIHNlc3Npb24gYm91bmQgdG8gdGhpcyBjb25uZWN0aW9uXG4gICAgdGhpcy5fY2xlYXJTZXNzaW9uKCk7XG4gICAgdGhpcy5fcmVzZXRJbnN0YW5jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZ291dCB0aGUgc2Vzc2lvbiBieSB1c2luZyBTT0FQIHdlYiBzZXJ2aWNlIEFQSVxuICAgKi9cbiAgYXN5bmMgbG9nb3V0QnlTb2FwKHJldm9rZT86IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBib2R5ID0gW1xuICAgICAgJzxzZTpFbnZlbG9wZSB4bWxuczpzZT1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3NvYXAvZW52ZWxvcGUvXCI+JyxcbiAgICAgICc8c2U6SGVhZGVyPicsXG4gICAgICAnPFNlc3Npb25IZWFkZXIgeG1sbnM9XCJ1cm46cGFydG5lci5zb2FwLnNmb3JjZS5jb21cIj4nLFxuICAgICAgYDxzZXNzaW9uSWQ+JHtlc2MoXG4gICAgICAgIHJldm9rZSA/IHRoaXMucmVmcmVzaFRva2VuIDogdGhpcy5hY2Nlc3NUb2tlbixcbiAgICAgICl9PC9zZXNzaW9uSWQ+YCxcbiAgICAgICc8L1Nlc3Npb25IZWFkZXI+JyxcbiAgICAgICc8L3NlOkhlYWRlcj4nLFxuICAgICAgJzxzZTpCb2R5PicsXG4gICAgICAnPGxvZ291dCB4bWxucz1cInVybjpwYXJ0bmVyLnNvYXAuc2ZvcmNlLmNvbVwiLz4nLFxuICAgICAgJzwvc2U6Qm9keT4nLFxuICAgICAgJzwvc2U6RW52ZWxvcGU+JyxcbiAgICBdLmpvaW4oJycpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5fdHJhbnNwb3J0Lmh0dHBSZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsOiBbdGhpcy5pbnN0YW5jZVVybCwgJ3NlcnZpY2VzL1NvYXAvdScsIHRoaXMudmVyc2lvbl0uam9pbignLycpLFxuICAgICAgYm9keSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3htbCcsXG4gICAgICAgIFNPQVBBY3Rpb246ICdcIlwiJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5fbG9nZ2VyLmRlYnVnKFxuICAgICAgYFNPQVAgc3RhdHVzQ29kZSA9ICR7cmVzcG9uc2Uuc3RhdHVzQ29kZX0sIHJlc3BvbnNlID0gJHtyZXNwb25zZS5ib2R5fWAsXG4gICAgKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgIGNvbnN0IG0gPSByZXNwb25zZS5ib2R5Lm1hdGNoKC88ZmF1bHRzdHJpbmc+KFtePF0rKTxcXC9mYXVsdHN0cmluZz4vKTtcbiAgICAgIGNvbnN0IGZhdWx0c3RyaW5nID0gbSAmJiBtWzFdO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGZhdWx0c3RyaW5nIHx8IHJlc3BvbnNlLmJvZHkpO1xuICAgIH1cbiAgICAvLyBEZXN0cm95IHRoZSBzZXNzaW9uIGJvdW5kIHRvIHRoaXMgY29ubmVjdGlvblxuICAgIHRoaXMuX2NsZWFyU2Vzc2lvbigpO1xuICAgIHRoaXMuX3Jlc2V0SW5zdGFuY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIFJFU1QgQVBJIHJlcXVlc3Qgd2l0aCBnaXZlbiBIVFRQIHJlcXVlc3QgaW5mbywgd2l0aCBjb25uZWN0ZWQgc2Vzc2lvbiBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogRW5kcG9pbnQgVVJMIGNhbiBiZSBhYnNvbHV0ZSBVUkwgKCdodHRwczovL25hMS5zYWxlc2ZvcmNlLmNvbS9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIHJlbGF0aXZlIHBhdGggZnJvbSByb290ICgnL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgb3IgcmVsYXRpdmUgcGF0aCBmcm9tIHZlcnNpb24gcm9vdCAoJy9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJykuXG4gICAqL1xuICByZXF1ZXN0PFIgPSB1bmtub3duPihcbiAgICByZXF1ZXN0OiBzdHJpbmcgfCBIdHRwUmVxdWVzdCxcbiAgICBvcHRpb25zOiBPYmplY3QgPSB7fSxcbiAgKTogU3RyZWFtUHJvbWlzZTxSPiB7XG4gICAgLy8gaWYgcmVxdWVzdCBpcyBzaW1wbGUgc3RyaW5nLCByZWdhcmQgaXQgYXMgdXJsIGluIEdFVCBtZXRob2RcbiAgICBsZXQgcmVxdWVzdF86IEh0dHBSZXF1ZXN0ID1cbiAgICAgIHR5cGVvZiByZXF1ZXN0ID09PSAnc3RyaW5nJyA/IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByZXF1ZXN0IH0gOiByZXF1ZXN0O1xuICAgIC8vIGlmIHVybCBpcyBnaXZlbiBpbiByZWxhdGl2ZSBwYXRoLCBwcmVwZW5kIGJhc2UgdXJsIG9yIGluc3RhbmNlIHVybCBiZWZvcmUuXG4gICAgcmVxdWVzdF8gPSB7XG4gICAgICAuLi5yZXF1ZXN0XyxcbiAgICAgIHVybDogdGhpcy5fbm9ybWFsaXplVXJsKHJlcXVlc3RfLnVybCksXG4gICAgfTtcbiAgICBjb25zdCBodHRwQXBpID0gbmV3IEh0dHBBcGkodGhpcywgb3B0aW9ucyk7XG4gICAgLy8gbG9nIGFwaSB1c2FnZSBhbmQgaXRzIHF1b3RhXG4gICAgaHR0cEFwaS5vbigncmVzcG9uc2UnLCAocmVzcG9uc2U6IEh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLmhlYWRlcnMgJiYgcmVzcG9uc2UuaGVhZGVyc1snc2ZvcmNlLWxpbWl0LWluZm8nXSkge1xuICAgICAgICBjb25zdCBhcGlVc2FnZSA9IHJlc3BvbnNlLmhlYWRlcnNbJ3Nmb3JjZS1saW1pdC1pbmZvJ10ubWF0Y2goXG4gICAgICAgICAgL2FwaS11c2FnZT0oXFxkKylcXC8oXFxkKykvLFxuICAgICAgICApO1xuICAgICAgICBpZiAoYXBpVXNhZ2UpIHtcbiAgICAgICAgICB0aGlzLmxpbWl0SW5mbyA9IHtcbiAgICAgICAgICAgIGFwaVVzYWdlOiB7XG4gICAgICAgICAgICAgIHVzZWQ6IHBhcnNlSW50KGFwaVVzYWdlWzFdLCAxMCksXG4gICAgICAgICAgICAgIGxpbWl0OiBwYXJzZUludChhcGlVc2FnZVsyXSwgMTApLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGh0dHBBcGkucmVxdWVzdDxSPihyZXF1ZXN0Xyk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBIVFRQIEdFVCByZXF1ZXN0XG4gICAqXG4gICAqIEVuZHBvaW50IFVSTCBjYW4gYmUgYWJzb2x1dGUgVVJMICgnaHR0cHM6Ly9uYTEuc2FsZXNmb3JjZS5jb20vc2VydmljZXMvZGF0YS92MzIuMC9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJylcbiAgICogLCByZWxhdGl2ZSBwYXRoIGZyb20gcm9vdCAoJy9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIG9yIHJlbGF0aXZlIHBhdGggZnJvbSB2ZXJzaW9uIHJvb3QgKCcvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpLlxuICAgKi9cbiAgcmVxdWVzdEdldDxSID0gdW5rbm93bj4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpIHtcbiAgICBjb25zdCByZXF1ZXN0OiBIdHRwUmVxdWVzdCA9IHsgbWV0aG9kOiAnR0VUJywgdXJsIH07XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSPihyZXF1ZXN0LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIEhUVFAgUE9TVCByZXF1ZXN0IHdpdGggSlNPTiBib2R5LCB3aXRoIGNvbm5lY3RlZCBzZXNzaW9uIGluZm9ybWF0aW9uXG4gICAqXG4gICAqIEVuZHBvaW50IFVSTCBjYW4gYmUgYWJzb2x1dGUgVVJMICgnaHR0cHM6Ly9uYTEuc2FsZXNmb3JjZS5jb20vc2VydmljZXMvZGF0YS92MzIuMC9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJylcbiAgICogLCByZWxhdGl2ZSBwYXRoIGZyb20gcm9vdCAoJy9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIG9yIHJlbGF0aXZlIHBhdGggZnJvbSB2ZXJzaW9uIHJvb3QgKCcvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpLlxuICAgKi9cbiAgcmVxdWVzdFBvc3Q8UiA9IHVua25vd24+KHVybDogc3RyaW5nLCBib2R5OiBPYmplY3QsIG9wdGlvbnM/OiBPYmplY3QpIHtcbiAgICBjb25zdCByZXF1ZXN0OiBIdHRwUmVxdWVzdCA9IHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8Uj4ocmVxdWVzdCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBIVFRQIFBVVCByZXF1ZXN0IHdpdGggSlNPTiBib2R5LCB3aXRoIGNvbm5lY3RlZCBzZXNzaW9uIGluZm9ybWF0aW9uXG4gICAqXG4gICAqIEVuZHBvaW50IFVSTCBjYW4gYmUgYWJzb2x1dGUgVVJMICgnaHR0cHM6Ly9uYTEuc2FsZXNmb3JjZS5jb20vc2VydmljZXMvZGF0YS92MzIuMC9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJylcbiAgICogLCByZWxhdGl2ZSBwYXRoIGZyb20gcm9vdCAoJy9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIG9yIHJlbGF0aXZlIHBhdGggZnJvbSB2ZXJzaW9uIHJvb3QgKCcvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpLlxuICAgKi9cbiAgcmVxdWVzdFB1dDxSPih1cmw6IHN0cmluZywgYm9keTogT2JqZWN0LCBvcHRpb25zPzogT2JqZWN0KSB7XG4gICAgY29uc3QgcmVxdWVzdDogSHR0cFJlcXVlc3QgPSB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgdXJsLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8Uj4ocmVxdWVzdCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBIVFRQIFBBVENIIHJlcXVlc3Qgd2l0aCBKU09OIGJvZHlcbiAgICpcbiAgICogRW5kcG9pbnQgVVJMIGNhbiBiZSBhYnNvbHV0ZSBVUkwgKCdodHRwczovL25hMS5zYWxlc2ZvcmNlLmNvbS9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIHJlbGF0aXZlIHBhdGggZnJvbSByb290ICgnL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgb3IgcmVsYXRpdmUgcGF0aCBmcm9tIHZlcnNpb24gcm9vdCAoJy9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJykuXG4gICAqL1xuICByZXF1ZXN0UGF0Y2g8UiA9IHVua25vd24+KHVybDogc3RyaW5nLCBib2R5OiBPYmplY3QsIG9wdGlvbnM/OiBPYmplY3QpIHtcbiAgICBjb25zdCByZXF1ZXN0OiBIdHRwUmVxdWVzdCA9IHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIHVybCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFI+KHJlcXVlc3QsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgSFRUUCBERUxFVEUgcmVxdWVzdFxuICAgKlxuICAgKiBFbmRwb2ludCBVUkwgY2FuIGJlIGFic29sdXRlIFVSTCAoJ2h0dHBzOi8vbmExLnNhbGVzZm9yY2UuY29tL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgcmVsYXRpdmUgcGF0aCBmcm9tIHJvb3QgKCcvc2VydmljZXMvZGF0YS92MzIuMC9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJylcbiAgICogLCBvciByZWxhdGl2ZSBwYXRoIGZyb20gdmVyc2lvbiByb290ICgnL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKS5cbiAgICovXG4gIHJlcXVlc3REZWxldGU8Uj4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpIHtcbiAgICBjb25zdCByZXF1ZXN0OiBIdHRwUmVxdWVzdCA9IHsgbWV0aG9kOiAnREVMRVRFJywgdXJsIH07XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSPihyZXF1ZXN0LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqKi9cbiAgX2Jhc2VVcmwoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmluc3RhbmNlVXJsLCAnc2VydmljZXMvZGF0YScsIGB2JHt0aGlzLnZlcnNpb259YF0uam9pbignLycpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgcGF0aCB0byBhYnNvbHV0ZSB1cmxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9ub3JtYWxpemVVcmwodXJsOiBzdHJpbmcpIHtcbiAgICBpZiAodXJsWzBdID09PSAnLycpIHtcbiAgICAgIGlmICh1cmwuaW5kZXhPZih0aGlzLmluc3RhbmNlVXJsICsgJy9zZXJ2aWNlcy8nKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuICAgICAgaWYgKHVybC5pbmRleE9mKCcvc2VydmljZXMvJykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VVcmwgKyB1cmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYmFzZVVybCgpICsgdXJsO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBxdWVyeTxUIGV4dGVuZHMgUmVjb3JkPihcbiAgICBzb3FsOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFBhcnRpYWw8UXVlcnlPcHRpb25zPixcbiAgKTogUXVlcnk8UywgU09iamVjdE5hbWVzPFM+LCBULCAnUXVlcnlSZXN1bHQnPiB7XG4gICAgcmV0dXJuIG5ldyBRdWVyeTxTLCBTT2JqZWN0TmFtZXM8Uz4sIFQsICdRdWVyeVJlc3VsdCc+KHRoaXMsIHNvcWwsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgc2VhcmNoIGJ5IFNPU0xcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNvc2wgLSBTT1NMIHN0cmluZ1xuICAgKiBAcGFyYW0ge0NhbGxiYWNrLjxBcnJheS48UmVjb3JkUmVzdWx0Pj59IFtjYWxsYmFja10gLSBDYWxsYmFjayBmdW5jdGlvblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48QXJyYXkuPFJlY29yZFJlc3VsdD4+fVxuICAgKi9cbiAgc2VhcmNoKHNvc2w6IHN0cmluZykge1xuICAgIHZhciB1cmwgPSB0aGlzLl9iYXNlVXJsKCkgKyAnL3NlYXJjaD9xPScgKyBlbmNvZGVVUklDb21wb25lbnQoc29zbCk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxTZWFyY2hSZXN1bHQ+KHVybCk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIHF1ZXJ5TW9yZShsb2NhdG9yOiBzdHJpbmcsIG9wdGlvbnM/OiBRdWVyeU9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5PFMsIFNPYmplY3ROYW1lczxTPiwgUmVjb3JkLCAnUXVlcnlSZXN1bHQnPihcbiAgICAgIHRoaXMsXG4gICAgICB7IGxvY2F0b3IgfSxcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcbiAgfVxuXG4gIC8qICovXG4gIF9lbnN1cmVWZXJzaW9uKG1ham9yVmVyc2lvbjogbnVtYmVyKSB7XG4gICAgY29uc3QgdmVyc2lvbnMgPSB0aGlzLnZlcnNpb24uc3BsaXQoJy4nKTtcbiAgICByZXR1cm4gcGFyc2VJbnQodmVyc2lvbnNbMF0sIDEwKSA+PSBtYWpvclZlcnNpb247XG4gIH1cblxuICAvKiAqL1xuICBfc3VwcG9ydHMoZmVhdHVyZTogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChmZWF0dXJlKSB7XG4gICAgICBjYXNlICdzb2JqZWN0LWNvbGxlY3Rpb24nOiAvLyBzb2JqZWN0IGNvbGxlY3Rpb24gaXMgYXZhaWxhYmxlIG9ubHkgaW4gQVBJIHZlciA0Mi4wK1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5zdXJlVmVyc2lvbig0Mik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHNwZWNpZmllZCByZWNvcmRzXG4gICAqL1xuICByZXRyaWV2ZTxOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+PihcbiAgICB0eXBlOiBOLFxuICAgIGlkczogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBSZXRyaWV2ZU9wdGlvbnMsXG4gICk6IFByb21pc2U8UmVjb3JkPjtcbiAgcmV0cmlldmU8TiBleHRlbmRzIFNPYmplY3ROYW1lczxTPj4oXG4gICAgdHlwZTogTixcbiAgICBpZHM6IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM/OiBSZXRyaWV2ZU9wdGlvbnMsXG4gICk6IFByb21pc2U8UmVjb3JkW10+O1xuICByZXRyaWV2ZTxOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+PihcbiAgICB0eXBlOiBOLFxuICAgIGlkczogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgb3B0aW9ucz86IFJldHJpZXZlT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSZWNvcmQgfCBSZWNvcmRbXT47XG4gIGFzeW5jIHJldHJpZXZlKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBpZHM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM6IFJldHJpZXZlT3B0aW9ucyA9IHt9LFxuICApIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpZHMpXG4gICAgICA/IC8vIGNoZWNrIHRoZSB2ZXJzaW9uIHdoZXRoZXIgU09iamVjdCBjb2xsZWN0aW9uIEFQSSBpcyBzdXBwb3J0ZWQgKDQyLjApXG4gICAgICAgIHRoaXMuX2Vuc3VyZVZlcnNpb24oNDIpXG4gICAgICAgID8gdGhpcy5fcmV0cmlldmVNYW55KHR5cGUsIGlkcywgb3B0aW9ucylcbiAgICAgICAgOiB0aGlzLl9yZXRyaWV2ZVBhcmFsbGVsKHR5cGUsIGlkcywgb3B0aW9ucylcbiAgICAgIDogdGhpcy5fcmV0cmlldmVTaW5nbGUodHlwZSwgaWRzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfcmV0cmlldmVTaW5nbGUodHlwZTogc3RyaW5nLCBpZDogc3RyaW5nLCBvcHRpb25zOiBSZXRyaWV2ZU9wdGlvbnMpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVjb3JkIElELiBTcGVjaWZ5IHZhbGlkIHJlY29yZCBJRCB2YWx1ZScpO1xuICAgIH1cbiAgICBsZXQgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3NvYmplY3RzJywgdHlwZSwgaWRdLmpvaW4oJy8nKTtcbiAgICBjb25zdCB7IGZpZWxkcywgaGVhZGVycyB9ID0gb3B0aW9ucztcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB1cmwgKz0gYD9maWVsZHM9JHtmaWVsZHMuam9pbignLCcpfWA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6ICdHRVQnLCB1cmwsIGhlYWRlcnMgfSk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX3JldHJpZXZlUGFyYWxsZWwoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGlkczogc3RyaW5nW10sXG4gICAgb3B0aW9uczogUmV0cmlldmVPcHRpb25zLFxuICApIHtcbiAgICBpZiAoaWRzLmxlbmd0aCA+IHRoaXMuX21heFJlcXVlc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhjZWVkZWQgbWF4IGxpbWl0IG9mIGNvbmN1cnJlbnQgY2FsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICBpZHMubWFwKChpZCkgPT5cbiAgICAgICAgdGhpcy5fcmV0cmlldmVTaW5nbGUodHlwZSwgaWQsIG9wdGlvbnMpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5hbGxPck5vbmUgfHwgZXJyLmVycm9yQ29kZSAhPT0gJ05PVF9GT1VORCcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzeW5jIF9yZXRyaWV2ZU1hbnkodHlwZTogc3RyaW5nLCBpZHM6IHN0cmluZ1tdLCBvcHRpb25zOiBSZXRyaWV2ZU9wdGlvbnMpIHtcbiAgICBpZiAoaWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBbdGhpcy5fYmFzZVVybCgpLCAnY29tcG9zaXRlJywgJ3NvYmplY3RzJywgdHlwZV0uam9pbignLycpO1xuICAgIGNvbnN0IGZpZWxkcyA9XG4gICAgICBvcHRpb25zLmZpZWxkcyB8fFxuICAgICAgKGF3YWl0IHRoaXMuZGVzY3JpYmUkKHR5cGUpKS5maWVsZHMubWFwKChmaWVsZCkgPT4gZmllbGQubmFtZSk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWRzLCBmaWVsZHMgfSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLihvcHRpb25zLmhlYWRlcnMgfHwge30pLFxuICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgcmVjb3Jkc1xuICAgKi9cbiAgY3JlYXRlPFxuICAgIE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4sXG4gICAgSW5wdXRSZWNvcmQgZXh0ZW5kcyBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj4gPSBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj5cbiAgPihcbiAgICB0eXBlOiBOLFxuICAgIHJlY29yZHM6IElucHV0UmVjb3JkW10sXG4gICAgb3B0aW9ucz86IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdFtdPjtcbiAgY3JlYXRlPFxuICAgIE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4sXG4gICAgSW5wdXRSZWNvcmQgZXh0ZW5kcyBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj4gPSBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj5cbiAgPih0eXBlOiBOLCByZWNvcmQ6IElucHV0UmVjb3JkLCBvcHRpb25zPzogRG1sT3B0aW9ucyk6IFByb21pc2U8U2F2ZVJlc3VsdD47XG4gIGNyZWF0ZTxcbiAgICBOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+LFxuICAgIElucHV0UmVjb3JkIGV4dGVuZHMgU09iamVjdElucHV0UmVjb3JkPFMsIE4+ID0gU09iamVjdElucHV0UmVjb3JkPFMsIE4+XG4gID4oXG4gICAgdHlwZTogTixcbiAgICByZWNvcmRzOiBJbnB1dFJlY29yZCB8IElucHV0UmVjb3JkW10sXG4gICAgb3B0aW9ucz86IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdCB8IFNhdmVSZXN1bHRbXT47XG4gIC8qKlxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcGFyYW0gcmVjb3Jkc1xuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICByZWNvcmRzOiBSZWNvcmQgfCBSZWNvcmRbXSxcbiAgICBvcHRpb25zOiBEbWxPcHRpb25zID0ge30sXG4gICkge1xuICAgIGNvbnN0IHJldCA9IEFycmF5LmlzQXJyYXkocmVjb3JkcylcbiAgICAgID8gLy8gY2hlY2sgdGhlIHZlcnNpb24gd2hldGhlciBTT2JqZWN0IGNvbGxlY3Rpb24gQVBJIGlzIHN1cHBvcnRlZCAoNDIuMClcbiAgICAgICAgdGhpcy5fZW5zdXJlVmVyc2lvbig0MilcbiAgICAgICAgPyBhd2FpdCB0aGlzLl9jcmVhdGVNYW55KHR5cGUsIHJlY29yZHMsIG9wdGlvbnMpXG4gICAgICAgIDogYXdhaXQgdGhpcy5fY3JlYXRlUGFyYWxsZWwodHlwZSwgcmVjb3Jkcywgb3B0aW9ucylcbiAgICAgIDogYXdhaXQgdGhpcy5fY3JlYXRlU2luZ2xlKHR5cGUsIHJlY29yZHMsIG9wdGlvbnMpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX2NyZWF0ZVNpbmdsZSh0eXBlOiBzdHJpbmcsIHJlY29yZDogUmVjb3JkLCBvcHRpb25zOiBEbWxPcHRpb25zKSB7XG4gICAgY29uc3QgeyBJZCwgdHlwZTogcnR5cGUsIGF0dHJpYnV0ZXMsIC4uLnJlYyB9ID0gcmVjb3JkO1xuICAgIGNvbnN0IHNvYmplY3RUeXBlID0gdHlwZSB8fCAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLnR5cGUpIHx8IHJ0eXBlO1xuICAgIGlmICghc29iamVjdFR5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gU09iamVjdCBUeXBlIGRlZmluZWQgaW4gcmVjb3JkJyk7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdzb2JqZWN0cycsIHNvYmplY3RUeXBlXS5qb2luKCcvJyk7XG4gICAgbGV0IGNvbnRlbnRUeXBlLCBib2R5O1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5tdWx0aXBhcnRGaWxlRmllbGRzKSB7XG4gICAgICAvLyBTZW5kIHRoZSByZWNvcmQgYXMgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIHJlcXVlc3QuIFVzZWZ1bCBmb3IgZmllbGRzIGNvbnRhaW5pbmcgbGFyZ2UgYmluYXJ5IGJsb2JzLlxuICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgLy8gRXh0cmFjdCB0aGUgZmllbGRzIHJlcXVlc3RlZCB0byBiZSBzZW50IHNlcGFyYXRlbHkgZnJvbSB0aGUgSlNPTlxuICAgICAgT2JqZWN0LmVudHJpZXMob3B0aW9ucy5tdWx0aXBhcnRGaWxlRmllbGRzKS5mb3JFYWNoKFxuICAgICAgICAoW2ZpZWxkTmFtZSwgZmlsZURldGFpbHNdKSA9PiB7XG4gICAgICAgICAgZm9ybS5hcHBlbmQoXG4gICAgICAgICAgICBmaWVsZE5hbWUsXG4gICAgICAgICAgICBCdWZmZXIuZnJvbShyZWNbZmllbGROYW1lXSwgJ2Jhc2U2NCcpLFxuICAgICAgICAgICAgZmlsZURldGFpbHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkZWxldGUgcmVjW2ZpZWxkTmFtZV07XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgLy8gU2VyaWFsaXplIHRoZSByZW1haW5pbmcgZmllbGRzIGFzIEpTT05cbiAgICAgIGZvcm0uYXBwZW5kKHR5cGUsIEpTT04uc3RyaW5naWZ5KHJlYyksIHtcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0pO1xuICAgICAgY29udGVudFR5cGUgPSBmb3JtLmdldEhlYWRlcnMoKVsnY29udGVudC10eXBlJ107IC8vIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGVuc3VyZSB0aGUgJ2JvdW5kYXJ5JyBpcyBwcmVzZW50XG4gICAgICBib2R5ID0gZm9ybTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvcjogc2VuZCB0aGUgcmVxdWVzdCBhcyBKU09OXG4gICAgICBjb250ZW50VHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShyZWMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmwsXG4gICAgICBib2R5OiBib2R5LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAuLi4ob3B0aW9ucy5oZWFkZXJzIHx8IHt9KSxcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IGNvbnRlbnRUeXBlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfY3JlYXRlUGFyYWxsZWwodHlwZTogc3RyaW5nLCByZWNvcmRzOiBSZWNvcmRbXSwgb3B0aW9uczogRG1sT3B0aW9ucykge1xuICAgIGlmIChyZWNvcmRzLmxlbmd0aCA+IHRoaXMuX21heFJlcXVlc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhjZWVkZWQgbWF4IGxpbWl0IG9mIGNvbmN1cnJlbnQgY2FsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICByZWNvcmRzLm1hcCgocmVjb3JkKSA9PlxuICAgICAgICB0aGlzLl9jcmVhdGVTaW5nbGUodHlwZSwgcmVjb3JkLCBvcHRpb25zKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgLy8gYmUgYXdhcmUgdGhhdCBhbGxPck5vbmUgaW4gcGFyYWxsZWwgbW9kZSB3aWxsIG5vdCByZXZlcnQgdGhlIG90aGVyIHN1Y2Nlc3NmdWwgcmVxdWVzdHNcbiAgICAgICAgICAvLyBpdCBvbmx5IHJhaXNlcyBlcnJvciB3aGVuIG1ldCBhdCBsZWFzdCBvbmUgZmFpbGVkIHJlcXVlc3QuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuYWxsT3JOb25lIHx8ICFlcnIuZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0b1NhdmVSZXN1bHQoZXJyKTtcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX2NyZWF0ZU1hbnkoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHJlY29yZHM6IFJlY29yZFtdLFxuICAgIG9wdGlvbnM6IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdFtdPiB7XG4gICAgaWYgKHJlY29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICB9XG4gICAgaWYgKHJlY29yZHMubGVuZ3RoID4gTUFYX0RNTF9DT1VOVCAmJiBvcHRpb25zLmFsbG93UmVjdXJzaXZlKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi4oYXdhaXQgdGhpcy5fY3JlYXRlTWFueShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHJlY29yZHMuc2xpY2UoMCwgTUFYX0RNTF9DT1VOVCksXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgKSksXG4gICAgICAgIC4uLihhd2FpdCB0aGlzLl9jcmVhdGVNYW55KFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgcmVjb3Jkcy5zbGljZShNQVhfRE1MX0NPVU5UKSxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICApKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IF9yZWNvcmRzID0gcmVjb3Jkcy5tYXAoKHJlY29yZCkgPT4ge1xuICAgICAgY29uc3QgeyBJZCwgdHlwZTogcnR5cGUsIGF0dHJpYnV0ZXMsIC4uLnJlYyB9ID0gcmVjb3JkO1xuICAgICAgY29uc3Qgc29iamVjdFR5cGUgPSB0eXBlIHx8IChhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMudHlwZSkgfHwgcnR5cGU7XG4gICAgICBpZiAoIXNvYmplY3RUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gU09iamVjdCBUeXBlIGRlZmluZWQgaW4gcmVjb3JkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBhdHRyaWJ1dGVzOiB7IHR5cGU6IHNvYmplY3RUeXBlIH0sIC4uLnJlYyB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdjb21wb3NpdGUnLCAnc29iamVjdHMnXS5qb2luKCcvJyk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYWxsT3JOb25lOiBvcHRpb25zLmFsbE9yTm9uZSB8fCBmYWxzZSxcbiAgICAgICAgcmVjb3JkczogX3JlY29yZHMsXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyB8fCB7fSksXG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bm9ueW0gb2YgQ29ubmVjdGlvbiNjcmVhdGUoKVxuICAgKi9cbiAgaW5zZXJ0ID0gdGhpcy5jcmVhdGU7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSByZWNvcmRzXG4gICAqL1xuICB1cGRhdGU8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBVcGRhdGVSZWNvcmQgZXh0ZW5kcyBTT2JqZWN0VXBkYXRlUmVjb3JkPFMsIE4+ID0gU09iamVjdFVwZGF0ZVJlY29yZDxTLCBOPlxuICA+KFxuICAgIHR5cGU6IE4sXG4gICAgcmVjb3JkczogVXBkYXRlUmVjb3JkW10sXG4gICAgb3B0aW9ucz86IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdFtdPjtcbiAgdXBkYXRlPFxuICAgIE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4sXG4gICAgVXBkYXRlUmVjb3JkIGV4dGVuZHMgU09iamVjdFVwZGF0ZVJlY29yZDxTLCBOPiA9IFNPYmplY3RVcGRhdGVSZWNvcmQ8UywgTj5cbiAgPih0eXBlOiBOLCByZWNvcmQ6IFVwZGF0ZVJlY29yZCwgb3B0aW9ucz86IERtbE9wdGlvbnMpOiBQcm9taXNlPFNhdmVSZXN1bHQ+O1xuICB1cGRhdGU8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBVcGRhdGVSZWNvcmQgZXh0ZW5kcyBTT2JqZWN0VXBkYXRlUmVjb3JkPFMsIE4+ID0gU09iamVjdFVwZGF0ZVJlY29yZDxTLCBOPlxuICA+KFxuICAgIHR5cGU6IE4sXG4gICAgcmVjb3JkczogVXBkYXRlUmVjb3JkIHwgVXBkYXRlUmVjb3JkW10sXG4gICAgb3B0aW9ucz86IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdCB8IFNhdmVSZXN1bHRbXT47XG4gIC8qKlxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcGFyYW0gcmVjb3Jkc1xuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKi9cbiAgdXBkYXRlPE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KFxuICAgIHR5cGU6IE4sXG4gICAgcmVjb3JkczogUmVjb3JkIHwgUmVjb3JkW10sXG4gICAgb3B0aW9uczogRG1sT3B0aW9ucyA9IHt9LFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHQgfCBTYXZlUmVzdWx0W10+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShyZWNvcmRzKVxuICAgICAgPyAvLyBjaGVjayB0aGUgdmVyc2lvbiB3aGV0aGVyIFNPYmplY3QgY29sbGVjdGlvbiBBUEkgaXMgc3VwcG9ydGVkICg0Mi4wKVxuICAgICAgICB0aGlzLl9lbnN1cmVWZXJzaW9uKDQyKVxuICAgICAgICA/IHRoaXMuX3VwZGF0ZU1hbnkodHlwZSwgcmVjb3Jkcywgb3B0aW9ucylcbiAgICAgICAgOiB0aGlzLl91cGRhdGVQYXJhbGxlbCh0eXBlLCByZWNvcmRzLCBvcHRpb25zKVxuICAgICAgOiB0aGlzLl91cGRhdGVTaW5nbGUodHlwZSwgcmVjb3Jkcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX3VwZGF0ZVNpbmdsZShcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgcmVjb3JkOiBSZWNvcmQsXG4gICAgb3B0aW9uczogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0PiB7XG4gICAgY29uc3QgeyBJZDogaWQsIHR5cGU6IHJ0eXBlLCBhdHRyaWJ1dGVzLCAuLi5yZWMgfSA9IHJlY29yZDtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlY29yZCBpZCBpcyBub3QgZm91bmQgaW4gcmVjb3JkLicpO1xuICAgIH1cbiAgICBjb25zdCBzb2JqZWN0VHlwZSA9IHR5cGUgfHwgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy50eXBlKSB8fCBydHlwZTtcbiAgICBpZiAoIXNvYmplY3RUeXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFNPYmplY3QgVHlwZSBkZWZpbmVkIGluIHJlY29yZCcpO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBbdGhpcy5fYmFzZVVybCgpLCAnc29iamVjdHMnLCBzb2JqZWN0VHlwZSwgaWRdLmpvaW4oJy8nKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIHVybCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVjKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLihvcHRpb25zLmhlYWRlcnMgfHwge30pLFxuICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBub0NvbnRlbnRSZXNwb25zZTogeyBpZCwgc3VjY2VzczogdHJ1ZSwgZXJyb3JzOiBbXSB9LFxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzeW5jIF91cGRhdGVQYXJhbGxlbCh0eXBlOiBzdHJpbmcsIHJlY29yZHM6IFJlY29yZFtdLCBvcHRpb25zOiBEbWxPcHRpb25zKSB7XG4gICAgaWYgKHJlY29yZHMubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGNlZWRlZCBtYXggbGltaXQgb2YgY29uY3VycmVudCBjYWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIHJlY29yZHMubWFwKChyZWNvcmQpID0+XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNpbmdsZSh0eXBlLCByZWNvcmQsIG9wdGlvbnMpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAvLyBiZSBhd2FyZSB0aGF0IGFsbE9yTm9uZSBpbiBwYXJhbGxlbCBtb2RlIHdpbGwgbm90IHJldmVydCB0aGUgb3RoZXIgc3VjY2Vzc2Z1bCByZXF1ZXN0c1xuICAgICAgICAgIC8vIGl0IG9ubHkgcmFpc2VzIGVycm9yIHdoZW4gbWV0IGF0IGxlYXN0IG9uZSBmYWlsZWQgcmVxdWVzdC5cbiAgICAgICAgICBpZiAob3B0aW9ucy5hbGxPck5vbmUgfHwgIWVyci5lcnJvckNvZGUpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRvU2F2ZVJlc3VsdChlcnIpO1xuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfdXBkYXRlTWFueShcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgcmVjb3JkczogUmVjb3JkW10sXG4gICAgb3B0aW9uczogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0W10+IHtcbiAgICBpZiAocmVjb3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHJlY29yZHMubGVuZ3RoID4gTUFYX0RNTF9DT1VOVCAmJiBvcHRpb25zLmFsbG93UmVjdXJzaXZlKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi4oYXdhaXQgdGhpcy5fdXBkYXRlTWFueShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHJlY29yZHMuc2xpY2UoMCwgTUFYX0RNTF9DT1VOVCksXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgKSksXG4gICAgICAgIC4uLihhd2FpdCB0aGlzLl91cGRhdGVNYW55KFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgcmVjb3Jkcy5zbGljZShNQVhfRE1MX0NPVU5UKSxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICApKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGNvbnN0IF9yZWNvcmRzID0gcmVjb3Jkcy5tYXAoKHJlY29yZCkgPT4ge1xuICAgICAgY29uc3QgeyBJZDogaWQsIHR5cGU6IHJ0eXBlLCBhdHRyaWJ1dGVzLCAuLi5yZWMgfSA9IHJlY29yZDtcbiAgICAgIGlmICghaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWNvcmQgaWQgaXMgbm90IGZvdW5kIGluIHJlY29yZC4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvYmplY3RUeXBlID0gdHlwZSB8fCAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLnR5cGUpIHx8IHJ0eXBlO1xuICAgICAgaWYgKCFzb2JqZWN0VHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFNPYmplY3QgVHlwZSBkZWZpbmVkIGluIHJlY29yZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgaWQsIGF0dHJpYnV0ZXM6IHsgdHlwZTogc29iamVjdFR5cGUgfSwgLi4ucmVjIH07XG4gICAgfSk7XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ2NvbXBvc2l0ZScsICdzb2JqZWN0cyddLmpvaW4oJy8nKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIHVybCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYWxsT3JOb25lOiBvcHRpb25zLmFsbE9yTm9uZSB8fCBmYWxzZSxcbiAgICAgICAgcmVjb3JkczogX3JlY29yZHMsXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyB8fCB7fSksXG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwc2VydCByZWNvcmRzXG4gICAqL1xuICB1cHNlcnQ8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBJbnB1dFJlY29yZCBleHRlbmRzIFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPiA9IFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPixcbiAgICBGaWVsZE5hbWVzIGV4dGVuZHMgU09iamVjdEZpZWxkTmFtZXM8UywgTj4gPSBTT2JqZWN0RmllbGROYW1lczxTLCBOPlxuICA+KFxuICAgIHR5cGU6IE4sXG4gICAgcmVjb3JkczogSW5wdXRSZWNvcmRbXSxcbiAgICBleHRJZEZpZWxkOiBGaWVsZE5hbWVzLFxuICAgIG9wdGlvbnM/OiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFVwc2VydFJlc3VsdFtdPjtcbiAgdXBzZXJ0PFxuICAgIE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4sXG4gICAgSW5wdXRSZWNvcmQgZXh0ZW5kcyBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj4gPSBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj4sXG4gICAgRmllbGROYW1lcyBleHRlbmRzIFNPYmplY3RGaWVsZE5hbWVzPFMsIE4+ID0gU09iamVjdEZpZWxkTmFtZXM8UywgTj5cbiAgPihcbiAgICB0eXBlOiBOLFxuICAgIHJlY29yZDogSW5wdXRSZWNvcmQsXG4gICAgZXh0SWRGaWVsZDogRmllbGROYW1lcyxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxVcHNlcnRSZXN1bHQ+O1xuICB1cHNlcnQ8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBJbnB1dFJlY29yZCBleHRlbmRzIFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPiA9IFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPixcbiAgICBGaWVsZE5hbWVzIGV4dGVuZHMgU09iamVjdEZpZWxkTmFtZXM8UywgTj4gPSBTT2JqZWN0RmllbGROYW1lczxTLCBOPlxuICA+KFxuICAgIHR5cGU6IE4sXG4gICAgcmVjb3JkczogSW5wdXRSZWNvcmQgfCBJbnB1dFJlY29yZFtdLFxuICAgIGV4dElkRmllbGQ6IEZpZWxkTmFtZXMsXG4gICAgb3B0aW9ucz86IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8VXBzZXJ0UmVzdWx0IHwgVXBzZXJ0UmVzdWx0W10+O1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHR5cGVcbiAgICogQHBhcmFtIHJlY29yZHNcbiAgICogQHBhcmFtIGV4dElkRmllbGRcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICovXG4gIGFzeW5jIHVwc2VydChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgcmVjb3JkczogUmVjb3JkIHwgUmVjb3JkW10sXG4gICAgZXh0SWRGaWVsZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IERtbE9wdGlvbnMgPSB7fSxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0IHwgU2F2ZVJlc3VsdFtdPiB7XG4gICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkocmVjb3Jkcyk7XG4gICAgY29uc3QgX3JlY29yZHMgPSBBcnJheS5pc0FycmF5KHJlY29yZHMpID8gcmVjb3JkcyA6IFtyZWNvcmRzXTtcbiAgICBpZiAoX3JlY29yZHMubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGNlZWRlZCBtYXggbGltaXQgb2YgY29uY3VycmVudCBjYWxsJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIF9yZWNvcmRzLm1hcCgocmVjb3JkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgW2V4dElkRmllbGRdOiBleHRJZCwgdHlwZTogcnR5cGUsIGF0dHJpYnV0ZXMsIC4uLnJlYyB9ID0gcmVjb3JkO1xuICAgICAgICBjb25zdCB1cmwgPSBbdGhpcy5fYmFzZVVybCgpLCAnc29iamVjdHMnLCB0eXBlLCBleHRJZEZpZWxkLCBleHRJZF0uam9pbihcbiAgICAgICAgICAnLycsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8U2F2ZVJlc3VsdD4oXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVjKSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyB8fCB7fSksXG4gICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbm9Db250ZW50UmVzcG9uc2U6IHsgc3VjY2VzczogdHJ1ZSwgZXJyb3JzOiBbXSB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIC8vIEJlIGF3YXJlIHRoYXQgYGFsbE9yTm9uZWAgb3B0aW9uIGluIHVwc2VydCBtZXRob2RcbiAgICAgICAgICAvLyB3aWxsIG5vdCByZXZlcnQgdGhlIG90aGVyIHN1Y2Nlc3NmdWwgcmVxdWVzdHMuXG4gICAgICAgICAgLy8gSXQgb25seSByYWlzZXMgZXJyb3Igd2hlbiBtZXQgYXQgbGVhc3Qgb25lIGZhaWxlZCByZXF1ZXN0LlxuICAgICAgICAgIGlmICghaXNBcnJheSB8fCBvcHRpb25zLmFsbE9yTm9uZSB8fCAhZXJyLmVycm9yQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdG9TYXZlUmVzdWx0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgKTtcbiAgICByZXR1cm4gaXNBcnJheSA/IHJlc3VsdHMgOiByZXN1bHRzWzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSByZWNvcmRzXG4gICAqL1xuICBkZXN0cm95PE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KFxuICAgIHR5cGU6IE4sXG4gICAgaWRzOiBzdHJpbmdbXSxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0W10+O1xuICBkZXN0cm95PE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KFxuICAgIHR5cGU6IE4sXG4gICAgaWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0PjtcbiAgZGVzdHJveTxOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+PihcbiAgICB0eXBlOiBOLFxuICAgIGlkczogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgb3B0aW9ucz86IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdCB8IFNhdmVSZXN1bHRbXT47XG4gIC8qKlxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcGFyYW0gaWRzXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqL1xuICBhc3luYyBkZXN0cm95KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBpZHM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM6IERtbE9wdGlvbnMgPSB7fSxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0IHwgU2F2ZVJlc3VsdFtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaWRzKVxuICAgICAgPyAvLyBjaGVjayB0aGUgdmVyc2lvbiB3aGV0aGVyIFNPYmplY3QgY29sbGVjdGlvbiBBUEkgaXMgc3VwcG9ydGVkICg0Mi4wKVxuICAgICAgICB0aGlzLl9lbnN1cmVWZXJzaW9uKDQyKVxuICAgICAgICA/IHRoaXMuX2Rlc3Ryb3lNYW55KHR5cGUsIGlkcywgb3B0aW9ucylcbiAgICAgICAgOiB0aGlzLl9kZXN0cm95UGFyYWxsZWwodHlwZSwgaWRzLCBvcHRpb25zKVxuICAgICAgOiB0aGlzLl9kZXN0cm95U2luZ2xlKHR5cGUsIGlkcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX2Rlc3Ryb3lTaW5nbGUoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGlkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0PiB7XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3NvYmplY3RzJywgdHlwZSwgaWRdLmpvaW4oJy8nKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICB1cmwsXG4gICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyB8fCB7fSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vQ29udGVudFJlc3BvbnNlOiB7IGlkLCBzdWNjZXNzOiB0cnVlLCBlcnJvcnM6IFtdIH0sXG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX2Rlc3Ryb3lQYXJhbGxlbCh0eXBlOiBzdHJpbmcsIGlkczogc3RyaW5nW10sIG9wdGlvbnM6IERtbE9wdGlvbnMpIHtcbiAgICBpZiAoaWRzLmxlbmd0aCA+IHRoaXMuX21heFJlcXVlc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhjZWVkZWQgbWF4IGxpbWl0IG9mIGNvbmN1cnJlbnQgY2FsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICBpZHMubWFwKChpZCkgPT5cbiAgICAgICAgdGhpcy5fZGVzdHJveVNpbmdsZSh0eXBlLCBpZCwgb3B0aW9ucykuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIC8vIEJlIGF3YXJlIHRoYXQgYGFsbE9yTm9uZWAgb3B0aW9uIGluIHBhcmFsbGVsIG1vZGVcbiAgICAgICAgICAvLyB3aWxsIG5vdCByZXZlcnQgdGhlIG90aGVyIHN1Y2Nlc3NmdWwgcmVxdWVzdHMuXG4gICAgICAgICAgLy8gSXQgb25seSByYWlzZXMgZXJyb3Igd2hlbiBtZXQgYXQgbGVhc3Qgb25lIGZhaWxlZCByZXF1ZXN0LlxuICAgICAgICAgIGlmIChvcHRpb25zLmFsbE9yTm9uZSB8fCAhZXJyLmVycm9yQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdG9TYXZlUmVzdWx0KGVycik7XG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzeW5jIF9kZXN0cm95TWFueShcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgaWRzOiBzdHJpbmdbXSxcbiAgICBvcHRpb25zOiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHRbXT4ge1xuICAgIGlmIChpZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChpZHMubGVuZ3RoID4gTUFYX0RNTF9DT1VOVCAmJiBvcHRpb25zLmFsbG93UmVjdXJzaXZlKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi4oYXdhaXQgdGhpcy5fZGVzdHJveU1hbnkoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBpZHMuc2xpY2UoMCwgTUFYX0RNTF9DT1VOVCksXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgKSksXG4gICAgICAgIC4uLihhd2FpdCB0aGlzLl9kZXN0cm95TWFueSh0eXBlLCBpZHMuc2xpY2UoTUFYX0RNTF9DT1VOVCksIG9wdGlvbnMpKSxcbiAgICAgIF07XG4gICAgfVxuICAgIGxldCB1cmwgPVxuICAgICAgW3RoaXMuX2Jhc2VVcmwoKSwgJ2NvbXBvc2l0ZScsICdzb2JqZWN0cz9pZHM9J10uam9pbignLycpICsgaWRzLmpvaW4oJywnKTtcbiAgICBpZiAob3B0aW9ucy5hbGxPck5vbmUpIHtcbiAgICAgIHVybCArPSAnJmFsbE9yTm9uZT10cnVlJztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgdXJsLFxuICAgICAgaGVhZGVyczogb3B0aW9ucy5oZWFkZXJzIHx8IHt9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bm9ueW0gb2YgQ29ubmVjdGlvbiNkZXN0cm95KClcbiAgICovXG4gIGRlbGV0ZSA9IHRoaXMuZGVzdHJveTtcblxuICAvKipcbiAgICogU3lub255bSBvZiBDb25uZWN0aW9uI2Rlc3Ryb3koKVxuICAgKi9cbiAgZGVsID0gdGhpcy5kZXN0cm95O1xuXG4gIC8qKlxuICAgKiBEZXNjcmliZSBTT2JqZWN0IG1ldGFkYXRhXG4gICAqL1xuICBhc3luYyBkZXNjcmliZSh0eXBlOiBzdHJpbmcpOiBQcm9taXNlPERlc2NyaWJlU09iamVjdFJlc3VsdD4ge1xuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdzb2JqZWN0cycsIHR5cGUsICdkZXNjcmliZSddLmpvaW4oJy8nKTtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHVybCk7XG4gICAgcmV0dXJuIGJvZHkgYXMgRGVzY3JpYmVTT2JqZWN0UmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIERlc2NyaWJlIGdsb2JhbCBTT2JqZWN0c1xuICAgKi9cbiAgYXN5bmMgZGVzY3JpYmVHbG9iYWwoKSB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5fYmFzZVVybCgpfS9zb2JqZWN0c2A7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHRoaXMucmVxdWVzdCh1cmwpO1xuICAgIHJldHVybiBib2R5IGFzIERlc2NyaWJlR2xvYmFsUmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBTT2JqZWN0IGluc3RhbmNlXG4gICAqL1xuICBzb2JqZWN0PE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KHR5cGU6IE4pOiBTT2JqZWN0PFMsIE4+O1xuICBzb2JqZWN0PE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KHR5cGU6IHN0cmluZyk6IFNPYmplY3Q8UywgTj47XG4gIHNvYmplY3Q8TiBleHRlbmRzIFNPYmplY3ROYW1lczxTPj4odHlwZTogTiB8IHN0cmluZyk6IFNPYmplY3Q8UywgTj4ge1xuICAgIGNvbnN0IHNvID1cbiAgICAgICh0aGlzLnNvYmplY3RzW3R5cGUgYXMgTl0gYXMgU09iamVjdDxTLCBOPiB8IHVuZGVmaW5lZCkgfHxcbiAgICAgIG5ldyBTT2JqZWN0KHRoaXMsIHR5cGUgYXMgTik7XG4gICAgdGhpcy5zb2JqZWN0c1t0eXBlIGFzIE5dID0gc287XG4gICAgcmV0dXJuIHNvO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBpZGVudGl0eSBpbmZvcm1hdGlvbiBvZiBjdXJyZW50IHVzZXJcbiAgICovXG4gIGFzeW5jIGlkZW50aXR5KG9wdGlvbnM6IHsgaGVhZGVycz86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9IH0gPSB7fSkge1xuICAgIGxldCB1cmwgPSB0aGlzLnVzZXJJbmZvICYmIHRoaXMudXNlckluZm8udXJsO1xuICAgIGlmICghdXJsKSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8eyBpZGVudGl0eTogc3RyaW5nIH0+KHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiB0aGlzLl9iYXNlVXJsKCksXG4gICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH0pO1xuICAgICAgdXJsID0gcmVzLmlkZW50aXR5O1xuICAgIH1cbiAgICB1cmwgKz0gJz9mb3JtYXQ9anNvbic7XG4gICAgaWYgKHRoaXMuYWNjZXNzVG9rZW4pIHtcbiAgICAgIHVybCArPSBgJm9hdXRoX3Rva2VuPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuYWNjZXNzVG9rZW4pfWA7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucmVxdWVzdDxJZGVudGl0eUluZm8+KHsgbWV0aG9kOiAnR0VUJywgdXJsIH0pO1xuICAgIHRoaXMudXNlckluZm8gPSB7XG4gICAgICBpZDogcmVzLnVzZXJfaWQsXG4gICAgICBvcmdhbml6YXRpb25JZDogcmVzLm9yZ2FuaXphdGlvbl9pZCxcbiAgICAgIHVybDogcmVzLmlkLFxuICAgIH07XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0IHJlY2VudGx5IHZpZXdlZCByZWNvcmRzXG4gICAqL1xuICBhc3luYyByZWNlbnQodHlwZT86IHN0cmluZyB8IG51bWJlciwgbGltaXQ/OiBudW1iZXIpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGxpbWl0ID0gdHlwZTtcbiAgICAgIHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCB1cmw7XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdzb2JqZWN0cycsIHR5cGVdLmpvaW4oJy8nKTtcbiAgICAgIGNvbnN0IHsgcmVjZW50SXRlbXMgfSA9IGF3YWl0IHRoaXMucmVxdWVzdDx7IHJlY2VudEl0ZW1zOiBSZWNvcmRbXSB9PihcbiAgICAgICAgdXJsLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBsaW1pdCA/IHJlY2VudEl0ZW1zLnNsaWNlKDAsIGxpbWl0KSA6IHJlY2VudEl0ZW1zO1xuICAgIH1cbiAgICB1cmwgPSBgJHt0aGlzLl9iYXNlVXJsKCl9L3JlY2VudGA7XG4gICAgaWYgKGxpbWl0KSB7XG4gICAgICB1cmwgKz0gYD9saW1pdD0ke2xpbWl0fWA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UmVjb3JkW10+KHVybCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgdXBkYXRlZCByZWNvcmRzXG4gICAqL1xuICBhc3luYyB1cGRhdGVkKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBzdGFydDogc3RyaW5nIHwgRGF0ZSxcbiAgICBlbmQ6IHN0cmluZyB8IERhdGUsXG4gICk6IFByb21pc2U8VXBkYXRlZFJlc3VsdD4ge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgbGV0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdzb2JqZWN0cycsIHR5cGUsICd1cGRhdGVkJ10uam9pbignLycpO1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzdGFydCA9IG5ldyBEYXRlKHN0YXJ0KTtcbiAgICB9XG4gICAgc3RhcnQgPSBmb3JtYXREYXRlKHN0YXJ0KTtcbiAgICB1cmwgKz0gYD9zdGFydD0ke2VuY29kZVVSSUNvbXBvbmVudChzdGFydCl9YDtcbiAgICBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuZCA9IG5ldyBEYXRlKGVuZCk7XG4gICAgfVxuICAgIGVuZCA9IGZvcm1hdERhdGUoZW5kKTtcbiAgICB1cmwgKz0gYCZlbmQ9JHtlbmNvZGVVUklDb21wb25lbnQoZW5kKX1gO1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCB0aGlzLnJlcXVlc3QodXJsKTtcbiAgICByZXR1cm4gYm9keSBhcyBVcGRhdGVkUmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGRlbGV0ZWQgcmVjb3Jkc1xuICAgKi9cbiAgYXN5bmMgZGVsZXRlZChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgc3RhcnQ6IHN0cmluZyB8IERhdGUsXG4gICAgZW5kOiBzdHJpbmcgfCBEYXRlLFxuICApOiBQcm9taXNlPERlbGV0ZWRSZXN1bHQ+IHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICAgIGxldCB1cmwgPSBbdGhpcy5fYmFzZVVybCgpLCAnc29iamVjdHMnLCB0eXBlLCAnZGVsZXRlZCddLmpvaW4oJy8nKTtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgc3RhcnQgPSBuZXcgRGF0ZShzdGFydCk7XG4gICAgfVxuICAgIHN0YXJ0ID0gZm9ybWF0RGF0ZShzdGFydCk7XG4gICAgdXJsICs9IGA/c3RhcnQ9JHtlbmNvZGVVUklDb21wb25lbnQoc3RhcnQpfWA7XG5cbiAgICBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuZCA9IG5ldyBEYXRlKGVuZCk7XG4gICAgfVxuICAgIGVuZCA9IGZvcm1hdERhdGUoZW5kKTtcbiAgICB1cmwgKz0gYCZlbmQ9JHtlbmNvZGVVUklDb21wb25lbnQoZW5kKX1gO1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCB0aGlzLnJlcXVlc3QodXJsKTtcbiAgICByZXR1cm4gYm9keSBhcyBEZWxldGVkUmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGFsbCB0YWJzXG4gICAqL1xuICBhc3luYyB0YWJzKCk6IFByb21pc2U8RGVzY3JpYmVUYWJbXT4ge1xuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICd0YWJzJ10uam9pbignLycpO1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCB0aGlzLnJlcXVlc3QodXJsKTtcbiAgICByZXR1cm4gYm9keSBhcyBEZXNjcmliZVRhYltdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgY3VycmVudCBzeXN0ZW0gbGltaXQgaW4gdGhlIG9yZ2FuaXphdGlvblxuICAgKi9cbiAgYXN5bmMgbGltaXRzKCk6IFByb21pc2U8T3JnYW5pemF0aW9uTGltaXRzSW5mbz4ge1xuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdsaW1pdHMnXS5qb2luKCcvJyk7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHRoaXMucmVxdWVzdCh1cmwpO1xuICAgIHJldHVybiBib2R5IGFzIE9yZ2FuaXphdGlvbkxpbWl0c0luZm87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHRoZW1lIGluZm9cbiAgICovXG4gIGFzeW5jIHRoZW1lKCk6IFByb21pc2U8RGVzY3JpYmVUaGVtZT4ge1xuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICd0aGVtZSddLmpvaW4oJy8nKTtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHVybCk7XG4gICAgcmV0dXJuIGJvZHkgYXMgRGVzY3JpYmVUaGVtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCByZWdpc3RlcmVkIGdsb2JhbCBxdWljayBhY3Rpb25zXG4gICAqL1xuICBhc3luYyBxdWlja0FjdGlvbnMoKTogUHJvbWlzZTxEZXNjcmliZVF1aWNrQWN0aW9uUmVzdWx0W10+IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KCcvcXVpY2tBY3Rpb25zJyk7XG4gICAgcmV0dXJuIGJvZHkgYXMgRGVzY3JpYmVRdWlja0FjdGlvblJlc3VsdFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWZlcmVuY2UgZm9yIHNwZWNpZmllZCBnbG9iYWwgcXVpY2sgYWN0aW9uXG4gICAqL1xuICBxdWlja0FjdGlvbihhY3Rpb25OYW1lOiBzdHJpbmcpOiBRdWlja0FjdGlvbjxTPiB7XG4gICAgcmV0dXJuIG5ldyBRdWlja0FjdGlvbih0aGlzLCBgL3F1aWNrQWN0aW9ucy8ke2FjdGlvbk5hbWV9YCk7XG4gIH1cblxuICAvKipcbiAgICogTW9kdWxlIHdoaWNoIG1hbmFnZXMgcHJvY2VzcyBydWxlcyBhbmQgYXBwcm92YWwgcHJvY2Vzc2VzXG4gICAqL1xuICBwcm9jZXNzID0gbmV3IFByb2Nlc3ModGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbm5lY3Rpb247XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFnQ0EsSUFBQUcsVUFBQSxHQUFBQyx1QkFBQSxDQUFBSixPQUFBO0FBS0Es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