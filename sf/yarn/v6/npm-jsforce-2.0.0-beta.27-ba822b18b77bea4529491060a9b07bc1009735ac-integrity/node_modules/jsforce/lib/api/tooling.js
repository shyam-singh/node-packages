"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");
var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");
require("core-js/modules/es.array.iterator");
_Object$defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Tooling = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/defineProperty"));
var _jsforce = require("../jsforce");
var _connection = _interopRequireDefault(require("../connection"));
var _cache = _interopRequireDefault(require("../cache"));
/**
 * @file Manages Tooling APIs
 * @author Shinichi Tomita <shinichi.tomita@gmail.com>
 */

/**
 *
 */

/**
 *
 */
const {
  query,
  queryMore,
  _ensureVersion,
  create,
  _createSingle,
  _createMany,
  _createParallel,
  retrieve,
  _retrieveSingle,
  _retrieveParallel,
  _retrieveMany,
  update,
  _updateSingle,
  _updateParallel,
  _updateMany,
  upsert,
  destroy,
  _destroySingle,
  _destroyParallel,
  _destroyMany,
  describe,
  describeGlobal,
  sobject
} = _connection.default.prototype;
const describeCacheKey = type => type ? `describe.${type}` : 'describe';

/**
 * API class for Tooling API call
 */
class Tooling {
  get version() {
    return this._conn.version;
  }

  /**
   * Execute query by using SOQL
   */

  /**
   * Query next record set by using query locator
   */

  /**
   * Create records
   */

  /**
   * Synonym of Tooling#create()
   */

  /**
   * Retrieve specified records
   */

  /**
   * Update records
   */

  /**
   * Upsert records
   */

  /**
   * Delete records
   */

  /**
   * Synonym of Tooling#destroy()
   */

  /**
   * Synonym of Tooling#destroy()
   */

  /**
   * Describe SObject metadata
   */

  /**
   * Synonym of Tooling#describe()
   */

  /**
   * Describe global SObjects
   */

  /**
   * Get SObject instance
   */

  /**
   *
   */
  constructor(conn) {
    (0, _defineProperty2.default)(this, "_conn", void 0);
    (0, _defineProperty2.default)(this, "query", query);
    (0, _defineProperty2.default)(this, "queryMore", queryMore);
    (0, _defineProperty2.default)(this, "_ensureVersion", _ensureVersion);
    (0, _defineProperty2.default)(this, "create", create);
    (0, _defineProperty2.default)(this, "_createSingle", _createSingle);
    (0, _defineProperty2.default)(this, "_createParallel", _createParallel);
    (0, _defineProperty2.default)(this, "_createMany", _createMany);
    (0, _defineProperty2.default)(this, "insert", create);
    (0, _defineProperty2.default)(this, "retrieve", retrieve);
    (0, _defineProperty2.default)(this, "_retrieveSingle", _retrieveSingle);
    (0, _defineProperty2.default)(this, "_retrieveParallel", _retrieveParallel);
    (0, _defineProperty2.default)(this, "_retrieveMany", _retrieveMany);
    (0, _defineProperty2.default)(this, "update", update);
    (0, _defineProperty2.default)(this, "_updateSingle", _updateSingle);
    (0, _defineProperty2.default)(this, "_updateParallel", _updateParallel);
    (0, _defineProperty2.default)(this, "_updateMany", _updateMany);
    (0, _defineProperty2.default)(this, "upsert", upsert);
    (0, _defineProperty2.default)(this, "destroy", destroy);
    (0, _defineProperty2.default)(this, "_destroySingle", _destroySingle);
    (0, _defineProperty2.default)(this, "_destroyParallel", _destroyParallel);
    (0, _defineProperty2.default)(this, "_destroyMany", _destroyMany);
    (0, _defineProperty2.default)(this, "delete", destroy);
    (0, _defineProperty2.default)(this, "del", destroy);
    (0, _defineProperty2.default)(this, "cache", new _cache.default());
    (0, _defineProperty2.default)(this, "describe", this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'NOCACHE'
    }));
    (0, _defineProperty2.default)(this, "describe$", this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'HIT'
    }));
    (0, _defineProperty2.default)(this, "describe$$", this.cache.createCachedFunction(describe, this, {
      key: describeCacheKey,
      strategy: 'IMMEDIATE'
    }));
    (0, _defineProperty2.default)(this, "describeSObject", this.describe);
    (0, _defineProperty2.default)(this, "describeSObject$", this.describe$);
    (0, _defineProperty2.default)(this, "describeSObject$$", this.describe$$);
    (0, _defineProperty2.default)(this, "describeGlobal", this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'NOCACHE'
    }));
    (0, _defineProperty2.default)(this, "describeGlobal$", this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'HIT'
    }));
    (0, _defineProperty2.default)(this, "describeGlobal$$", this.cache.createCachedFunction(describeGlobal, this, {
      key: 'describeGlobal',
      strategy: 'IMMEDIATE'
    }));
    (0, _defineProperty2.default)(this, "sobject", sobject);
    (0, _defineProperty2.default)(this, "sobjects", {});
    this._conn = conn;
  }

  /**
   * @private
   */
  _establish() {
    this.sobjects = {};
    this.cache.clear();
    this.cache.get('describeGlobal').removeAllListeners('value');
    this.cache.get('describeGlobal').on('value', res => {
      if (res.result) {
        for (const {
          name: type
        } of res.result.sobjects) {
          this.sobject(type);
        }
      }
    });
  }

  /**
   * @private
   */
  _baseUrl() {
    return this._conn._baseUrl() + '/tooling';
  }

  /**
   * @private
   */
  _supports(feature) {
    return this._conn._supports(feature);
  }

  /**
   *
   */
  request(request, options) {
    return this._conn.request(request, options);
  }

  /**
   * Executes Apex code anonymously
   */
  executeAnonymous(body) {
    const url = this._baseUrl() + '/executeAnonymous?anonymousBody=' + encodeURIComponent(body);
    return this.request(url);
  }

  /**
   * Executes Apex tests asynchronously
   */
  runTestsAsynchronous(req) {
    const url = this._baseUrl() + '/runTestsAsynchronous/';
    return this._conn.requestPost(url, req);
  }

  /**
   * Executes Apex tests synchronously
   */
  runTestsSynchronous(req) {
    const url = this._baseUrl() + '/runTestsSynchronous/';
    return this._conn.requestPost(url, req);
  }

  /**
   * Retrieves available code completions of the referenced type
   */
  completions(type = 'apex') {
    const url = this._baseUrl() + '/completions?type=' + encodeURIComponent(type);
    return this.request({
      method: 'GET',
      url,
      headers: {
        Accept: 'application/json'
      }
    });
  }
}

/*--------------------------------------------*/
/*
 * Register hook in connection instantiation for dynamically adding this API module features
 */
exports.Tooling = Tooling;
(0, _jsforce.registerModule)('tooling', conn => new Tooling(conn));
var _default = Tooling;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNmb3JjZSIsInJlcXVpcmUiLCJfY29ubmVjdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfY2FjaGUiLCJxdWVyeSIsInF1ZXJ5TW9yZSIsIl9lbnN1cmVWZXJzaW9uIiwiY3JlYXRlIiwiX2NyZWF0ZVNpbmdsZSIsIl9jcmVhdGVNYW55IiwiX2NyZWF0ZVBhcmFsbGVsIiwicmV0cmlldmUiLCJfcmV0cmlldmVTaW5nbGUiLCJfcmV0cmlldmVQYXJhbGxlbCIsIl9yZXRyaWV2ZU1hbnkiLCJ1cGRhdGUiLCJfdXBkYXRlU2luZ2xlIiwiX3VwZGF0ZVBhcmFsbGVsIiwiX3VwZGF0ZU1hbnkiLCJ1cHNlcnQiLCJkZXN0cm95IiwiX2Rlc3Ryb3lTaW5nbGUiLCJfZGVzdHJveVBhcmFsbGVsIiwiX2Rlc3Ryb3lNYW55IiwiZGVzY3JpYmUiLCJkZXNjcmliZUdsb2JhbCIsInNvYmplY3QiLCJDb25uZWN0aW9uIiwicHJvdG90eXBlIiwiZGVzY3JpYmVDYWNoZUtleSIsInR5cGUiLCJUb29saW5nIiwidmVyc2lvbiIsIl9jb25uIiwiY29uc3RydWN0b3IiLCJjb25uIiwiX2RlZmluZVByb3BlcnR5MiIsImRlZmF1bHQiLCJDYWNoZSIsImNhY2hlIiwiY3JlYXRlQ2FjaGVkRnVuY3Rpb24iLCJrZXkiLCJzdHJhdGVneSIsImRlc2NyaWJlJCIsImRlc2NyaWJlJCQiLCJfZXN0YWJsaXNoIiwic29iamVjdHMiLCJjbGVhciIsImdldCIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9uIiwicmVzIiwicmVzdWx0IiwibmFtZSIsIl9iYXNlVXJsIiwiX3N1cHBvcnRzIiwiZmVhdHVyZSIsInJlcXVlc3QiLCJvcHRpb25zIiwiZXhlY3V0ZUFub255bW91cyIsImJvZHkiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJydW5UZXN0c0FzeW5jaHJvbm91cyIsInJlcSIsInJlcXVlc3RQb3N0IiwicnVuVGVzdHNTeW5jaHJvbm91cyIsImNvbXBsZXRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsIkFjY2VwdCIsImV4cG9ydHMiLCJyZWdpc3Rlck1vZHVsZSIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FwaS90b29saW5nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgTWFuYWdlcyBUb29saW5nIEFQSXNcbiAqIEBhdXRob3IgU2hpbmljaGkgVG9taXRhIDxzaGluaWNoaS50b21pdGFAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyByZWdpc3Rlck1vZHVsZSB9IGZyb20gJy4uL2pzZm9yY2UnO1xuaW1wb3J0IENvbm5lY3Rpb24gZnJvbSAnLi4vY29ubmVjdGlvbic7XG5pbXBvcnQgQ2FjaGUsIHsgQ2FjaGVkRnVuY3Rpb24gfSBmcm9tICcuLi9jYWNoZSc7XG5pbXBvcnQgU09iamVjdCBmcm9tICcuLi9zb2JqZWN0JztcbmltcG9ydCB7XG4gIERlc2NyaWJlR2xvYmFsUmVzdWx0LFxuICBEZXNjcmliZVNPYmplY3RSZXN1bHQsXG4gIEh0dHBSZXF1ZXN0LFxuICBTY2hlbWEsXG4gIFNPYmplY3ROYW1lcyxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEV4ZWN1dGVBbm9ueW1vdXNSZXN1bHQgPSB7XG4gIGNvbXBpbGVkOiBib29sZWFuO1xuICBjb21waWxlUHJvYmxlbTogc3RyaW5nIHwgbnVsbDtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbGluZTogbnVtYmVyO1xuICBjb2x1bW46IG51bWJlcjtcbiAgZXhjZXB0aW9uTWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgZXhjZXB0aW9uU3RhY2tUcmFjZTogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIFJ1blRlc3RMZXZlbCA9XG4gIHwgJ1J1blNwZWNpZmllZFRlc3RzJ1xuICB8ICdSdW5Mb2NhbFRlc3RzJ1xuICB8ICdSdW5BbGxUZXN0c0luT3JnJztcblxudHlwZSBUZXN0c05vZGUgPVxuICB8IHtcbiAgICAgIGNsYXNzSWQ6IHN0cmluZztcbiAgICAgIHRlc3RNZXRob2RzPzogc3RyaW5nW107XG4gICAgfVxuICB8IHtcbiAgICAgIGNsYXNzTmFtZTogc3RyaW5nO1xuICAgICAgdGVzdE1ldGhvZHM/OiBzdHJpbmdbXTtcbiAgICB9O1xuXG5leHBvcnQgdHlwZSBSdW5UZXN0c1JlcXVlc3QgPSB7XG4gIHRlc3RzOiBUZXN0c05vZGVbXTtcbiAgbWF4RmFpbGVkVGVzdHM/OiBudW1iZXI7XG4gIHRlc3RMZXZlbD86IFJ1blRlc3RMZXZlbDtcbiAgc2tpcENvZGVDb3ZlcmFnZT86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBSdW5UZXN0c0FzeW5jUmVxdWVzdCA9XG4gIHwge1xuICAgICAgY2xhc3NpZHM/OiBzdHJpbmc7XG4gICAgICBjbGFzc05hbWVzPzogc3RyaW5nO1xuICAgICAgc3VpdGVpZHM/OiBzdHJpbmc7XG4gICAgICBzdWl0ZU5hbWVzPzogc3RyaW5nO1xuICAgICAgbWF4RmFpbGVkVGVzdHM/OiBudW1iZXI7XG4gICAgICB0ZXN0TGV2ZWw/OiBSdW5UZXN0TGV2ZWw7XG4gICAgICBza2lwQ29kZUNvdmVyYWdlPzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdGVzdHM6IFRlc3RzTm9kZVtdO1xuICAgICAgbWF4RmFpbGVkVGVzdHM/OiBudW1iZXI7XG4gICAgICB0ZXN0TGV2ZWw/OiBSdW5UZXN0TGV2ZWw7XG4gICAgICBza2lwQ29kZUNvdmVyYWdlPzogYm9vbGVhbjtcbiAgICB9O1xuXG50eXBlIENvZGVDb3ZlcmFnZVJlc3VsdCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbG9jYXRpb25zTm90Q292ZXJlZDogYW55W107XG4gIG5hbWU6IHN0cmluZztcbiAgbmFtZXNwYWNlOiBzdHJpbmcgfCBudWxsO1xuICBudW1Mb2NhdGlvbnM6IG51bWJlcjtcbiAgbnVtTG9jYXRpb25zTm90Q292ZXJlZDogbnVtYmVyO1xuICB0eXBlOiBzdHJpbmc7XG59O1xuXG50eXBlIENvZGVDb3ZlcmFnZVdhcm5pbmcgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgbmFtZXNwYWNlOiBzdHJpbmcgfCBudWxsO1xufTtcblxudHlwZSBGbG93Q292ZXJhZ2VSZXN1bHQgPSB7XG4gIGVsZW1lbnRzTm90Q292ZXJlZDogc3RyaW5nW107XG4gIGZsb3dJZDogc3RyaW5nO1xuICBmbG93TmFtZTogc3RyaW5nO1xuICBmbG93TmFtZXNwYWNlOiBzdHJpbmcgfCBudWxsO1xuICBudW1FbGVtZW50czogbnVtYmVyO1xuICBudW1FbGVtZW50c05vdENvdmVyZWQ6IG51bWJlcjtcbiAgcHJvY2Vzc1R5cGU6IHN0cmluZztcbn07XG5cbnR5cGUgRmxvd0NvdmVyYWdlV2FybmluZyA9IHtcbiAgZmxvd0lkOiBzdHJpbmc7XG4gIGZsb3dOYW1lOiBzdHJpbmc7XG4gIGZsb3dOYW1lc3BhY2U6IHN0cmluZyB8IG51bGw7XG4gIG1lc3NhZ2U6IHN0cmluZztcbn07XG5cbnR5cGUgUnVuVGVzdFN1Y2Nlc3MgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG1ldGhvZE5hbWU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBuYW1lc3BhY2U6IHN0cmluZyB8IG51bGw7XG4gIHNlZUFsbERhdGE6IGJvb2xlYW47XG4gIHRpbWU6IG51bWJlcjtcbn07XG5cbnR5cGUgUnVuVGVzdEZhaWx1cmUgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbWV0aG9kTmFtZTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIG5hbWVzcGFjZTogc3RyaW5nIHwgbnVsbDtcbiAgc2VlQWxsRGF0YTogYm9vbGVhbjtcbiAgc3RhY2tUcmFjZTogc3RyaW5nO1xuICB0aW1lOiBudW1iZXI7XG4gIHR5cGU6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFJ1blRlc3RzUmVzdWx0ID0ge1xuICBhcGV4TG9nSWQ6IHN0cmluZztcbiAgY29kZUNvdmVyYWdlOiBDb2RlQ292ZXJhZ2VSZXN1bHRbXTtcbiAgY29kZUNvdmVyYWdlV2FybmluZ3M6IENvZGVDb3ZlcmFnZVdhcm5pbmdbXTtcbiAgZmxvd0NvdmVyYWdlOiBGbG93Q292ZXJhZ2VSZXN1bHRbXTtcbiAgZmxvd0NvdmVyYWdlV2FybmluZ3M6IEZsb3dDb3ZlcmFnZVdhcm5pbmdbXTtcbiAgbnVtRmFpbHVyZXM6IG51bWJlcjtcbiAgbnVtVGVzdHNSdW46IG51bWJlcjtcbiAgc3VjY2Vzc2VzOiBSdW5UZXN0U3VjY2Vzc1tdO1xuICBmYWlsdXJlczogUnVuVGVzdEZhaWx1cmVbXTtcbiAgdG90YWxUaW1lOiBudW1iZXI7XG59O1xuXG50eXBlIENvbnN0cnVjdG9yRGVjbGFyYXRpb24gPSB7XG4gIG1ldGhvZERvYzogc3RyaW5nIHwgbnVsbDtcbiAgbmFtZTogc3RyaW5nO1xuICBwYXJhbWV0ZXJzOiBBcnJheTx7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgfT47XG4gIHJlZmVyZW5jZXM6IGFueVtdO1xufTtcblxudHlwZSBNZXRob2REZWNsYXJhdGlvbiA9IHtcbiAgYXJnVHlwZXM6IHN0cmluZ1tdO1xuICBpc1N0YXRpYzogYm9vbGVhbjtcbiAgbWV0aG9kRG9jOiBzdHJpbmcgfCBudWxsO1xuICBuYW1lOiBzdHJpbmc7XG4gIHBhcmFtZXRlcnM6IEFycmF5PHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICB9PjtcbiAgcmVmZXJlbmNlczogYW55W107XG59O1xuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgcmVmZXJlbmNlczogYW55W107XG59O1xuXG50eXBlIENsYXNzRGVjbGFyYXRpb24gPSB7XG4gIGNvbnN0cnVjdG9yczogQ29uc3RydWN0b3JEZWNsYXJhdGlvbltdO1xuICBtZXRob2RzOiBNZXRob2REZWNsYXJhdGlvbltdO1xuICBwcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uW107XG59O1xuXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uc1Jlc3VsdCA9IHtcbiAgcHVibGljRGVjbGFyYXRpb25zPzoge1xuICAgIFtuYW1lc3BhY2U6IHN0cmluZ106IHtcbiAgICAgIFtuYW1lOiBzdHJpbmddOiBDbGFzc0RlY2xhcmF0aW9uO1xuICAgIH07XG4gIH07XG59O1xuXG4vKipcbiAqXG4gKi9cbmNvbnN0IHtcbiAgcXVlcnksXG4gIHF1ZXJ5TW9yZSxcbiAgX2Vuc3VyZVZlcnNpb24sXG4gIGNyZWF0ZSxcbiAgX2NyZWF0ZVNpbmdsZSxcbiAgX2NyZWF0ZU1hbnksXG4gIF9jcmVhdGVQYXJhbGxlbCxcbiAgcmV0cmlldmUsXG4gIF9yZXRyaWV2ZVNpbmdsZSxcbiAgX3JldHJpZXZlUGFyYWxsZWwsXG4gIF9yZXRyaWV2ZU1hbnksXG4gIHVwZGF0ZSxcbiAgX3VwZGF0ZVNpbmdsZSxcbiAgX3VwZGF0ZVBhcmFsbGVsLFxuICBfdXBkYXRlTWFueSxcbiAgdXBzZXJ0LFxuICBkZXN0cm95LFxuICBfZGVzdHJveVNpbmdsZSxcbiAgX2Rlc3Ryb3lQYXJhbGxlbCxcbiAgX2Rlc3Ryb3lNYW55LFxuICBkZXNjcmliZSxcbiAgZGVzY3JpYmVHbG9iYWwsXG4gIHNvYmplY3QsXG59ID0gQ29ubmVjdGlvbi5wcm90b3R5cGU7XG5cbmNvbnN0IGRlc2NyaWJlQ2FjaGVLZXkgPSAodHlwZT86IHN0cmluZykgPT5cbiAgdHlwZSA/IGBkZXNjcmliZS4ke3R5cGV9YCA6ICdkZXNjcmliZSc7XG5cbi8qKlxuICogQVBJIGNsYXNzIGZvciBUb29saW5nIEFQSSBjYWxsXG4gKi9cbmV4cG9ydCBjbGFzcyBUb29saW5nPFMgZXh0ZW5kcyBTY2hlbWE+IHtcbiAgX2Nvbm46IENvbm5lY3Rpb248Uz47XG5cbiAgZ2V0IHZlcnNpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fY29ubi52ZXJzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgcXVlcnkgYnkgdXNpbmcgU09RTFxuICAgKi9cbiAgcXVlcnk6IENvbm5lY3Rpb248Uz5bJ3F1ZXJ5J10gPSBxdWVyeTtcblxuICAvKipcbiAgICogUXVlcnkgbmV4dCByZWNvcmQgc2V0IGJ5IHVzaW5nIHF1ZXJ5IGxvY2F0b3JcbiAgICovXG4gIHF1ZXJ5TW9yZTogQ29ubmVjdGlvbjxTPlsncXVlcnlNb3JlJ10gPSBxdWVyeU1vcmU7XG5cbiAgX2Vuc3VyZVZlcnNpb246IENvbm5lY3Rpb248Uz5bJ19lbnN1cmVWZXJzaW9uJ10gPSBfZW5zdXJlVmVyc2lvbjtcblxuICAvKipcbiAgICogQ3JlYXRlIHJlY29yZHNcbiAgICovXG4gIGNyZWF0ZTogQ29ubmVjdGlvbjxTPlsnY3JlYXRlJ10gPSBjcmVhdGU7XG4gIF9jcmVhdGVTaW5nbGUgPSBfY3JlYXRlU2luZ2xlO1xuICBfY3JlYXRlUGFyYWxsZWwgPSBfY3JlYXRlUGFyYWxsZWw7XG4gIF9jcmVhdGVNYW55ID0gX2NyZWF0ZU1hbnk7XG5cbiAgLyoqXG4gICAqIFN5bm9ueW0gb2YgVG9vbGluZyNjcmVhdGUoKVxuICAgKi9cbiAgaW5zZXJ0ID0gY3JlYXRlO1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBzcGVjaWZpZWQgcmVjb3Jkc1xuICAgKi9cbiAgcmV0cmlldmU6IENvbm5lY3Rpb248Uz5bJ3JldHJpZXZlJ10gPSByZXRyaWV2ZTtcbiAgX3JldHJpZXZlU2luZ2xlID0gX3JldHJpZXZlU2luZ2xlO1xuICBfcmV0cmlldmVQYXJhbGxlbCA9IF9yZXRyaWV2ZVBhcmFsbGVsO1xuICBfcmV0cmlldmVNYW55ID0gX3JldHJpZXZlTWFueTtcblxuICAvKipcbiAgICogVXBkYXRlIHJlY29yZHNcbiAgICovXG4gIHVwZGF0ZTogQ29ubmVjdGlvbjxTPlsndXBkYXRlJ10gPSB1cGRhdGU7XG4gIF91cGRhdGVTaW5nbGUgPSBfdXBkYXRlU2luZ2xlO1xuICBfdXBkYXRlUGFyYWxsZWwgPSBfdXBkYXRlUGFyYWxsZWw7XG4gIF91cGRhdGVNYW55ID0gX3VwZGF0ZU1hbnk7XG5cbiAgLyoqXG4gICAqIFVwc2VydCByZWNvcmRzXG4gICAqL1xuICB1cHNlcnQ6IENvbm5lY3Rpb248Uz5bJ3Vwc2VydCddID0gdXBzZXJ0O1xuXG4gIC8qKlxuICAgKiBEZWxldGUgcmVjb3Jkc1xuICAgKi9cbiAgZGVzdHJveTogQ29ubmVjdGlvbjxTPlsnZGVzdHJveSddID0gZGVzdHJveTtcbiAgX2Rlc3Ryb3lTaW5nbGUgPSBfZGVzdHJveVNpbmdsZTtcbiAgX2Rlc3Ryb3lQYXJhbGxlbCA9IF9kZXN0cm95UGFyYWxsZWw7XG4gIF9kZXN0cm95TWFueSA9IF9kZXN0cm95TWFueTtcblxuICAvKipcbiAgICogU3lub255bSBvZiBUb29saW5nI2Rlc3Ryb3koKVxuICAgKi9cbiAgZGVsZXRlID0gZGVzdHJveTtcblxuICAvKipcbiAgICogU3lub255bSBvZiBUb29saW5nI2Rlc3Ryb3koKVxuICAgKi9cbiAgZGVsID0gZGVzdHJveTtcblxuICBjYWNoZSA9IG5ldyBDYWNoZSgpO1xuXG4gIC8qKlxuICAgKiBEZXNjcmliZSBTT2JqZWN0IG1ldGFkYXRhXG4gICAqL1xuICBkZXNjcmliZSA9IHRoaXMuY2FjaGUuY3JlYXRlQ2FjaGVkRnVuY3Rpb24oZGVzY3JpYmUsIHRoaXMsIHtcbiAgICBrZXk6IGRlc2NyaWJlQ2FjaGVLZXksXG4gICAgc3RyYXRlZ3k6ICdOT0NBQ0hFJyxcbiAgfSk7XG4gIGRlc2NyaWJlJCA9IHRoaXMuY2FjaGUuY3JlYXRlQ2FjaGVkRnVuY3Rpb24oZGVzY3JpYmUsIHRoaXMsIHtcbiAgICBrZXk6IGRlc2NyaWJlQ2FjaGVLZXksXG4gICAgc3RyYXRlZ3k6ICdISVQnLFxuICB9KTtcbiAgZGVzY3JpYmUkJCA9ICh0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKGRlc2NyaWJlLCB0aGlzLCB7XG4gICAga2V5OiBkZXNjcmliZUNhY2hlS2V5LFxuICAgIHN0cmF0ZWd5OiAnSU1NRURJQVRFJyxcbiAgfSkgYXMgdW5rbm93bikgYXMgQ2FjaGVkRnVuY3Rpb248KG5hbWU6IHN0cmluZykgPT4gRGVzY3JpYmVTT2JqZWN0UmVzdWx0PjtcblxuICAvKipcbiAgICogU3lub255bSBvZiBUb29saW5nI2Rlc2NyaWJlKClcbiAgICovXG4gIGRlc2NyaWJlU09iamVjdCA9IHRoaXMuZGVzY3JpYmU7XG4gIGRlc2NyaWJlU09iamVjdCQgPSB0aGlzLmRlc2NyaWJlJDtcbiAgZGVzY3JpYmVTT2JqZWN0JCQgPSB0aGlzLmRlc2NyaWJlJCQ7XG5cbiAgLyoqXG4gICAqIERlc2NyaWJlIGdsb2JhbCBTT2JqZWN0c1xuICAgKi9cbiAgZGVzY3JpYmVHbG9iYWwgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKGRlc2NyaWJlR2xvYmFsLCB0aGlzLCB7XG4gICAga2V5OiAnZGVzY3JpYmVHbG9iYWwnLFxuICAgIHN0cmF0ZWd5OiAnTk9DQUNIRScsXG4gIH0pO1xuICBkZXNjcmliZUdsb2JhbCQgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKGRlc2NyaWJlR2xvYmFsLCB0aGlzLCB7XG4gICAga2V5OiAnZGVzY3JpYmVHbG9iYWwnLFxuICAgIHN0cmF0ZWd5OiAnSElUJyxcbiAgfSk7XG4gIGRlc2NyaWJlR2xvYmFsJCQgPSAodGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihkZXNjcmliZUdsb2JhbCwgdGhpcywge1xuICAgIGtleTogJ2Rlc2NyaWJlR2xvYmFsJyxcbiAgICBzdHJhdGVneTogJ0lNTUVESUFURScsXG4gIH0pIGFzIHVua25vd24pIGFzIENhY2hlZEZ1bmN0aW9uPChuYW1lOiBzdHJpbmcpID0+IERlc2NyaWJlR2xvYmFsUmVzdWx0PjtcblxuICAvKipcbiAgICogR2V0IFNPYmplY3QgaW5zdGFuY2VcbiAgICovXG4gIHNvYmplY3Q6IENvbm5lY3Rpb248Uz5bJ3NvYmplY3QnXSA9IHNvYmplY3Q7XG5cbiAgc29iamVjdHM6IHsgW04gaW4gU09iamVjdE5hbWVzPFM+XT86IFNPYmplY3Q8UywgTj4gfSA9IHt9O1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29ubjogQ29ubmVjdGlvbjxTPikge1xuICAgIHRoaXMuX2Nvbm4gPSBjb25uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXN0YWJsaXNoKCkge1xuICAgIHRoaXMuc29iamVjdHMgPSB7fTtcbiAgICB0aGlzLmNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5jYWNoZS5nZXQoJ2Rlc2NyaWJlR2xvYmFsJykucmVtb3ZlQWxsTGlzdGVuZXJzKCd2YWx1ZScpO1xuICAgIHRoaXMuY2FjaGUuZ2V0KCdkZXNjcmliZUdsb2JhbCcpLm9uKCd2YWx1ZScsIChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMucmVzdWx0KSB7XG4gICAgICAgIGZvciAoY29uc3QgeyBuYW1lOiB0eXBlIH0gb2YgcmVzLnJlc3VsdC5zb2JqZWN0cykge1xuICAgICAgICAgIHRoaXMuc29iamVjdCh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmFzZVVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29ubi5fYmFzZVVybCgpICsgJy90b29saW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N1cHBvcnRzKGZlYXR1cmU6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl9jb25uLl9zdXBwb3J0cyhmZWF0dXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcmVxdWVzdDxSID0gdW5rbm93bj4ocmVxdWVzdDogc3RyaW5nIHwgSHR0cFJlcXVlc3QsIG9wdGlvbnM/OiBPYmplY3QpIHtcbiAgICByZXR1cm4gdGhpcy5fY29ubi5yZXF1ZXN0PFI+KHJlcXVlc3QsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIEFwZXggY29kZSBhbm9ueW1vdXNseVxuICAgKi9cbiAgZXhlY3V0ZUFub255bW91cyhib2R5OiBzdHJpbmcpIHtcbiAgICBjb25zdCB1cmwgPVxuICAgICAgdGhpcy5fYmFzZVVybCgpICtcbiAgICAgICcvZXhlY3V0ZUFub255bW91cz9hbm9ueW1vdXNCb2R5PScgK1xuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGJvZHkpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8RXhlY3V0ZUFub255bW91c1Jlc3VsdD4odXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBBcGV4IHRlc3RzIGFzeW5jaHJvbm91c2x5XG4gICAqL1xuICBydW5UZXN0c0FzeW5jaHJvbm91cyhyZXE6IFJ1blRlc3RzQXN5bmNSZXF1ZXN0KSB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5fYmFzZVVybCgpICsgJy9ydW5UZXN0c0FzeW5jaHJvbm91cy8nO1xuICAgIHJldHVybiB0aGlzLl9jb25uLnJlcXVlc3RQb3N0PHN0cmluZyB8IG51bGw+KHVybCwgcmVxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBBcGV4IHRlc3RzIHN5bmNocm9ub3VzbHlcbiAgICovXG4gIHJ1blRlc3RzU3luY2hyb25vdXMocmVxOiBSdW5UZXN0c1JlcXVlc3QpIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLl9iYXNlVXJsKCkgKyAnL3J1blRlc3RzU3luY2hyb25vdXMvJztcbiAgICByZXR1cm4gdGhpcy5fY29ubi5yZXF1ZXN0UG9zdDxSdW5UZXN0c1Jlc3VsdCB8IG51bGw+KHVybCwgcmVxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYXZhaWxhYmxlIGNvZGUgY29tcGxldGlvbnMgb2YgdGhlIHJlZmVyZW5jZWQgdHlwZVxuICAgKi9cbiAgY29tcGxldGlvbnModHlwZTogJ2FwZXgnIHwgJ3Zpc3VhbGZvcmNlJyA9ICdhcGV4Jykge1xuICAgIGNvbnN0IHVybCA9XG4gICAgICB0aGlzLl9iYXNlVXJsKCkgKyAnL2NvbXBsZXRpb25zP3R5cGU9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0eXBlKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PENvbXBsZXRpb25zUmVzdWx0Pih7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsLFxuICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pO1xuICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLypcbiAqIFJlZ2lzdGVyIGhvb2sgaW4gY29ubmVjdGlvbiBpbnN0YW50aWF0aW9uIGZvciBkeW5hbWljYWxseSBhZGRpbmcgdGhpcyBBUEkgbW9kdWxlIGZlYXR1cmVzXG4gKi9cbnJlZ2lzdGVyTW9kdWxlKCd0b29saW5nJywgKGNvbm4pID0+IG5ldyBUb29saW5nKGNvbm4pKTtcblxuZXhwb3J0IGRlZmF1bHQgVG9vbGluZztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUlBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLE1BQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQU5BO0FBQ0E7QUFDQTtBQUNBOztBQWFBO0FBQ0E7QUFDQTs7QUErSkE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtFQUNKSSxLQUFLO0VBQ0xDLFNBQVM7RUFDVEMsY0FBYztFQUNkQyxNQUFNO0VBQ05DLGFBQWE7RUFDYkMsV0FBVztFQUNYQyxlQUFlO0VBQ2ZDLFFBQVE7RUFDUkMsZUFBZTtFQUNmQyxpQkFBaUI7RUFDakJDLGFBQWE7RUFDYkMsTUFBTTtFQUNOQyxhQUFhO0VBQ2JDLGVBQWU7RUFDZkMsV0FBVztFQUNYQyxNQUFNO0VBQ05DLE9BQU87RUFDUEMsY0FBYztFQUNkQyxnQkFBZ0I7RUFDaEJDLFlBQVk7RUFDWkMsUUFBUTtFQUNSQyxjQUFjO0VBQ2RDO0FBQ0YsQ0FBQyxHQUFHQyxtQkFBVSxDQUFDQyxTQUFTO0FBRXhCLE1BQU1DLGdCQUFnQixHQUFJQyxJQUFhLElBQ3JDQSxJQUFJLEdBQUksWUFBV0EsSUFB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