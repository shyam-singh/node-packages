/**
 * Copyright (c) 2019, salesforce.com, inc.
 * All rights reserved.
 * SPDX-License-Identifier: MIT
 * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT
 */
import * as instrumentationService from 'instrumentation/service';
import * as webruntimeAuraInstrumentation from 'webruntime/auraInstrumentation';

jest.mock('@app/basePath', () => '/abc', { virtual: true });
jest.mock('@app/csrfToken', () => '123', { virtual: true });
jest.mock('instrumentation:idleDetector', () => ({}), { virtual: true });

/**
 * Ensures that webruntime/auraInstrumentation's API matches instrumentation/service's API
 * since we override the latter with former in /packages/webruntime-framework/src/index.js
 */
describe('webruntime/auraInstrumentation', () => {
    Object.keys(instrumentationService).forEach(key => {
        it(`instrumentation/service's ${key} exists in webruntime/auraInstrumentation`, () => {
            expect(webruntimeAuraInstrumentation[key] !== undefined).toBe(true);
        });
    });
});
