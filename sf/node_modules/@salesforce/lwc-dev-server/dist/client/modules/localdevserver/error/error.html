<template>
    <section
        if:true={visible}
        role="dialog"
        tabindex="-1"
        class="slds-modal slds-fade-in-open slds-modal_large"
        aria-modal="true"
    >
        <div class="slds-modal__container">
            <header class="slds-modal__header">
                <h2 id="modal-heading-01">
                    <img
                        class="error-image"
                        src="/assets/localdev/images/buggy.svg"
                    />
                </h2>
            </header>
            <div class="slds-modal__content slds-p-around_medium">
                <h1 class="error-message slds-text-heading_large">
                    {errorMessage}
                </h1>
                <h2 if:true={href} class="error-location slds-text-heading_small">
                    {errorLocation}
                </h2>
                <localdevserver-code-highlighter
                    class="error-code"
                    code={code}
                    line={errorLine}
                    line-offset={lineOffset}
                ></localdevserver-code-highlighter>
                <h3 if:true={href} class="view-compiled slds-text-title">
                    <a class="slds-text-link_reset" href={href}>
                        Go to source (vscode)
                    </a>
                </h3>
                <localdevserver-error-stacks
                    class="error-stacks"
                    error={error}
                ></localdevserver-error-stacks>
                <div class="info-note slds-text-heading_small">
                    This screen is visible only in development. It will not
                    appear if the app crashes in production. Open your browser's
                    developer console to further inspect this error.
                </div>
            </div>
        </div>
    </section>
    <div if:true={visible} class="slds-backdrop slds-backdrop_open"></div>
</template>
