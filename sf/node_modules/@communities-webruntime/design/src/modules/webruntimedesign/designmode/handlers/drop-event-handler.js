/**
 * Copyright (c) 2020, salesforce.com, inc.
 * All rights reserved.
 * SPDX-License-Identifier: MIT
 * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT
 */
import { isValidDropTarget } from '../shared/section-utils';

function dropEventHandler({ element, position, container, postMessageManager }) {
    if (element && isValidDropTarget(element.element, container.element)) {
        const beforeId = position && position.beforeId;
        const containerId = container.key;
        const itemId = element.key;

        postMessageManager.sendPostmessage(window.parent, 'move-item', {
            beforeId,
            container: containerId,
            item: itemId,
        });
    }
}

export { dropEventHandler };
